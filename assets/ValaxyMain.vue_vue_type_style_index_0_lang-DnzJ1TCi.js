var ko=Object.defineProperty;var wo=(n,e,t)=>e in n?ko(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var oe=(n,e,t)=>(wo(n,typeof e!="symbol"?e+"":e,t),t),bo=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var tn=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)};var Rt=(n,e,t)=>(bo(n,e,"access private method"),t);import{C as de,D as $o,E as _o,G as Zn,H as Gn,I as At,J as xo,K as Ke,a as kn,q as D,A as Co,k as wn,B as bt,L as fe,M as $t,N as Yl,O as Nt,P as Lo,Q as zo,i as T,R as Zl,d as ie,y as Qe,s as Xe,o as m,e as v,F as K,l as ae,f as b,g as f,t as M,c as ee,v as I,x as Z,_ as bn,S as Eo,U as _e,V as Ye,m as W,W as Gl,X as Kl,Y as Io,r as ue,Z as Ro,$ as Dt,a0 as Je,j as me,a1 as Ql,n as ht,a2 as Xl,a3 as Jl,a4 as ft,a5 as ea,a6 as ta,a7 as na,h as pe,a8 as la,a9 as aa,p as oa,aa as U,ab as ge,ac as $n,ad as Ao,ae as So,af as ia,ag as To,ah as Mo,w as Ae,ai as jo,aj as Ho,ak as Uo,u as Oo}from"./app-BmfxcYjs.js";import{t as Vo,_ as No}from"./YunFooter.vue_vue_type_script_setup_true_lang-DEvBGVBH.js";import{_ as ra}from"./YunCard.vue_vue_type_script_setup_true_lang-D6nllPRp.js";import{i as _n,a as sa}from"./index-C5okkQwF.js";import{_ as Do}from"./YunPageHeader.vue_vue_type_script_setup_true_lang-0qjYpm8m.js";import{s as Kn}from"./index-C7yU5XnD.js";import{u as Po}from"./post-Dy8dm5I9.js";function Ut(n,e){const t=de(n),l=de(e),a=t.getTime()-l.getTime();return a<0?-1:a>0?1:a}function Bo(n){return $o(n,Date.now())}function Fo(n,e){const t=de(n),l=de(e),a=t.getFullYear()-l.getFullYear(),o=t.getMonth()-l.getMonth();return a*12+o}function qo(n){return e=>{const l=(n?Math[n]:Math.trunc)(e);return l===0?0:l}}function ca(n,e){return+de(n)-+de(e)}function Wo(n){const e=de(n);return e.setHours(23,59,59,999),e}function Yo(n){const e=de(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Zo(n){const e=de(n);return+Wo(e)==+Yo(e)}function Go(n,e){const t=de(n),l=de(e),a=Ut(t,l),o=Math.abs(Fo(t,l));let i;if(o<1)i=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-a*o);let r=Ut(t,l)===-a;Zo(de(n))&&o===1&&Ut(n,l)===1&&(r=!1),i=a*(o-Number(r))}return i===0?0:i}function Ko(n,e,t){const l=ca(n,e)/1e3;return qo(t==null?void 0:t.roundingMethod)(l)}function Qo(n,e,t){const l=xo(),a=(t==null?void 0:t.locale)??l.locale??_o,o=2520,i=Ut(n,e);if(isNaN(i))throw new RangeError("Invalid time value");const r=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:i});let s,u;i>0?(s=de(e),u=de(n)):(s=de(n),u=de(e));const c=Ko(u,s),$=(Zn(u)-Zn(s))/1e3,d=Math.round((c-$)/60);let _;if(d<2)return t!=null&&t.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,r):c<10?a.formatDistance("lessThanXSeconds",10,r):c<20?a.formatDistance("lessThanXSeconds",20,r):c<40?a.formatDistance("halfAMinute",0,r):c<60?a.formatDistance("lessThanXMinutes",1,r):a.formatDistance("xMinutes",1,r):d===0?a.formatDistance("lessThanXMinutes",1,r):a.formatDistance("xMinutes",d,r);if(d<45)return a.formatDistance("xMinutes",d,r);if(d<90)return a.formatDistance("aboutXHours",1,r);if(d<Gn){const C=Math.round(d/60);return a.formatDistance("aboutXHours",C,r)}else{if(d<o)return a.formatDistance("xDays",1,r);if(d<At){const C=Math.round(d/Gn);return a.formatDistance("xDays",C,r)}else if(d<At*2)return _=Math.round(d/At),a.formatDistance("aboutXMonths",_,r)}if(_=Go(u,s),_<12){const C=Math.round(d/At);return a.formatDistance("xMonths",C,r)}else{const C=_%12,x=Math.trunc(_/12);return C<3?a.formatDistance("aboutXYears",x,r):C<9?a.formatDistance("overXYears",x,r):a.formatDistance("almostXYears",x+1,r)}}function Xo(n,e){return Qo(n,Bo(n),e)}function Jo(n,e){const t=document.createElement("div");t.className=e,n.parentNode.insertBefore(t,n),n.parentNode.removeChild(n),t.appendChild(n)}function ei(n=document){n.querySelectorAll("table").forEach(e=>{const t=document.createElement("div");t.className="table-container",Jo(e,"table-container")})}let Ot=[];function xn(n){Ot.push(n),Ke(()=>{Ot=Ot.filter(e=>e!==n)})}const ti=()=>Ot.forEach(n=>n()),St=ti;function ni(n){const e=kn(),t=D(()=>e.path),l=Co(),a=D(()=>{let r=-1;return l.postList.find((s,u)=>s.path===t.value?(r=u,!0):!1),r}),o=D(()=>a.value-1>=0?l.postList[a.value-1]:null),i=D(()=>a.value+1<l.postList.length?l.postList[a.value+1]:null);return[o,i]}function li(){if(wn){const n=new WeakMap;window.addEventListener("click",e=>{var l;const t=e.target;if(t.matches('div[class*="language-"] > button.copy')){const a=t.parentElement,o=(l=t.nextElementSibling)==null?void 0:l.nextElementSibling;if(!a||!o)return;const i=/language-(shellscript|shell|bash|sh|zsh)/.test(a.className);let r="";o.querySelectorAll("span.line:not(.diff.remove)").forEach(s=>r+=`${s.textContent||""}
`),r=r.slice(0,-1),i&&(r=r.replace(/^ *(\$|>) /gm,"").trim()),ai(r).then(()=>{t.classList.add("copied"),clearTimeout(n.get(t));const s=setTimeout(()=>{t.classList.remove("copied"),t.blur(),n.delete(t)},2e3);n.set(t,s)})}})}}async function ai(n){try{return navigator.clipboard.writeText(n)}catch{const e=document.createElement("textarea"),t=document.activeElement;e.value=n,e.setAttribute("readonly",""),e.style.contain="strict",e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="12pt";const l=document.getSelection(),a=l?l.rangeCount>0&&l.getRangeAt(0):null;document.body.appendChild(e),e.select(),e.selectionStart=0,e.selectionEnd=n.length,document.execCommand("copy"),document.body.removeChild(e),a&&(l.removeAllRanges(),l.addRange(a)),t&&t.focus()}}/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var Ne=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l])}return n},Tt=function(e){return e.tagName==="IMG"},oi=function(e){return NodeList.prototype.isPrototypeOf(e)},Vt=function(e){return e&&e.nodeType===1},Qn=function(e){var t=e.currentSrc||e.src;return t.substr(-4).toLowerCase()===".svg"},Xn=function(e){try{return Array.isArray(e)?e.filter(Tt):oi(e)?[].slice.call(e).filter(Tt):Vt(e)?[e].filter(Tt):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(Tt):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},ii=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t},ri=function(e){var t=e.getBoundingClientRect(),l=t.top,a=t.left,o=t.width,i=t.height,r=e.cloneNode(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return r.removeAttribute("id"),r.style.position="absolute",r.style.top=l+s+"px",r.style.left=a+u+"px",r.style.width=o+"px",r.style.height=i+"px",r.style.transform="",r},We=function(e,t){var l=Ne({bubbles:!1,cancelable:!1,detail:void 0},t);if(typeof window.CustomEvent=="function")return new CustomEvent(e,l);var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,l.bubbles,l.cancelable,l.detail),a},si=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=window.Promise||function(V){function h(){}V(h,h)},a=function(V){var h=V.target;if(h===re){C();return}O.indexOf(h)!==-1&&x({target:h})},o=function(){if(!(A||!L.original)){var V=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(N-V)>j.scrollOffset&&setTimeout(C,150)}},i=function(V){var h=V.key||V.keyCode;(h==="Escape"||h==="Esc"||h===27)&&C()},r=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=V;if(V.background&&(re.style.background=V.background),V.container&&V.container instanceof Object&&(h.container=Ne({},j.container,V.container)),V.template){var R=Vt(V.template)?V.template:document.querySelector(V.template);h.template=R}return j=Ne({},j,h),O.forEach(function(S){S.dispatchEvent(We("medium-zoom:update",{detail:{zoom:te}}))}),te},s=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(Ne({},j,V))},u=function(){for(var V=arguments.length,h=Array(V),R=0;R<V;R++)h[R]=arguments[R];var S=h.reduce(function(H,F){return[].concat(H,Xn(F))},[]);return S.filter(function(H){return O.indexOf(H)===-1}).forEach(function(H){O.push(H),H.classList.add("medium-zoom-image")}),P.forEach(function(H){var F=H.type,q=H.listener,J=H.options;S.forEach(function(ce){ce.addEventListener(F,q,J)})}),te},c=function(){for(var V=arguments.length,h=Array(V),R=0;R<V;R++)h[R]=arguments[R];L.zoomed&&C();var S=h.length>0?h.reduce(function(H,F){return[].concat(H,Xn(F))},[]):O;return S.forEach(function(H){H.classList.remove("medium-zoom-image"),H.dispatchEvent(We("medium-zoom:detach",{detail:{zoom:te}}))}),O=O.filter(function(H){return S.indexOf(H)===-1}),te},$=function(V,h){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O.forEach(function(S){S.addEventListener("medium-zoom:"+V,h,R)}),P.push({type:"medium-zoom:"+V,listener:h,options:R}),te},d=function(V,h){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O.forEach(function(S){S.removeEventListener("medium-zoom:"+V,h,R)}),P=P.filter(function(S){return!(S.type==="medium-zoom:"+V&&S.listener.toString()===h.toString())}),te},_=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=V.target,R=function(){var H={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},F=void 0,q=void 0;if(j.container)if(j.container instanceof Object)H=Ne({},H,j.container),F=H.width-H.left-H.right-j.margin*2,q=H.height-H.top-H.bottom-j.margin*2;else{var J=Vt(j.container)?j.container:document.querySelector(j.container),ce=J.getBoundingClientRect(),Le=ce.width,ye=ce.height,nt=ce.left,lt=ce.top;H=Ne({},H,{width:Le,height:ye,left:nt,top:lt})}F=F||H.width-j.margin*2,q=q||H.height-j.margin*2;var ke=L.zoomedHd||L.original,at=Qn(ke)?F:ke.naturalWidth||F,Oe=Qn(ke)?q:ke.naturalHeight||q,be=ke.getBoundingClientRect(),y=be.top,g=be.left,z=be.width,B=be.height,E=Math.min(Math.max(z,at),F)/z,X=Math.min(Math.max(B,Oe),q)/B,Y=Math.min(E,X),se=(-g+(F-z)/2+j.margin+H.left)/Y,we=(-y+(q-B)/2+j.margin+H.top)/Y,Ie="scale("+Y+") translate3d("+se+"px, "+we+"px, 0)";L.zoomed.style.transform=Ie,L.zoomedHd&&(L.zoomedHd.style.transform=Ie)};return new l(function(S){if(h&&O.indexOf(h)===-1){S(te);return}var H=function Le(){A=!1,L.zoomed.removeEventListener("transitionend",Le),L.original.dispatchEvent(We("medium-zoom:opened",{detail:{zoom:te}})),S(te)};if(L.zoomed){S(te);return}if(h)L.original=h;else if(O.length>0){var F=O;L.original=F[0]}else{S(te);return}if(L.original.dispatchEvent(We("medium-zoom:open",{detail:{zoom:te}})),N=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=!0,L.zoomed=ri(L.original),document.body.appendChild(re),j.template){var q=Vt(j.template)?j.template:document.querySelector(j.template);L.template=document.createElement("div"),L.template.appendChild(q.content.cloneNode(!0)),document.body.appendChild(L.template)}if(L.original.parentElement&&L.original.parentElement.tagName==="PICTURE"&&L.original.currentSrc&&(L.zoomed.src=L.original.currentSrc),document.body.appendChild(L.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),L.original.classList.add("medium-zoom-image--hidden"),L.zoomed.classList.add("medium-zoom-image--opened"),L.zoomed.addEventListener("click",C),L.zoomed.addEventListener("transitionend",H),L.original.getAttribute("data-zoom-src")){L.zoomedHd=L.zoomed.cloneNode(),L.zoomedHd.removeAttribute("srcset"),L.zoomedHd.removeAttribute("sizes"),L.zoomedHd.removeAttribute("loading"),L.zoomedHd.src=L.zoomed.getAttribute("data-zoom-src"),L.zoomedHd.onerror=function(){clearInterval(J),console.warn("Unable to reach the zoom image target "+L.zoomedHd.src),L.zoomedHd=null,R()};var J=setInterval(function(){L.zoomedHd.complete&&(clearInterval(J),L.zoomedHd.classList.add("medium-zoom-image--opened"),L.zoomedHd.addEventListener("click",C),document.body.appendChild(L.zoomedHd),R())},10)}else if(L.original.hasAttribute("srcset")){L.zoomedHd=L.zoomed.cloneNode(),L.zoomedHd.removeAttribute("sizes"),L.zoomedHd.removeAttribute("loading");var ce=L.zoomedHd.addEventListener("load",function(){L.zoomedHd.removeEventListener("load",ce),L.zoomedHd.classList.add("medium-zoom-image--opened"),L.zoomedHd.addEventListener("click",C),document.body.appendChild(L.zoomedHd),R()})}else R()})},C=function(){return new l(function(V){if(A||!L.original){V(te);return}var h=function R(){L.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(L.zoomed),L.zoomedHd&&document.body.removeChild(L.zoomedHd),document.body.removeChild(re),L.zoomed.classList.remove("medium-zoom-image--opened"),L.template&&document.body.removeChild(L.template),A=!1,L.zoomed.removeEventListener("transitionend",R),L.original.dispatchEvent(We("medium-zoom:closed",{detail:{zoom:te}})),L.original=null,L.zoomed=null,L.zoomedHd=null,L.template=null,V(te)};A=!0,document.body.classList.remove("medium-zoom--opened"),L.zoomed.style.transform="",L.zoomedHd&&(L.zoomedHd.style.transform=""),L.template&&(L.template.style.transition="opacity 150ms",L.template.style.opacity=0),L.original.dispatchEvent(We("medium-zoom:close",{detail:{zoom:te}})),L.zoomed.addEventListener("transitionend",h)})},x=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=V.target;return L.original?C():_({target:h})},w=function(){return j},p=function(){return O},k=function(){return L.original},O=[],P=[],A=!1,N=0,j=t,L={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?j=e:(e||typeof e=="string")&&u(e),j=Ne({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},j);var re=ii(j.background);document.addEventListener("click",a),document.addEventListener("keyup",i),document.addEventListener("scroll",o),window.addEventListener("resize",C);var te={open:_,close:C,toggle:x,update:r,clone:s,attach:u,detach:c,on:$,off:d,getOptions:w,getImages:p,getZoomedImage:k};return te};function ci(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(typeof document>"u")){var l=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&l.firstChild?l.insertBefore(a,l.firstChild):l.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var ui=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";ci(ui);function di(){const e=bt().value.mediumZoom;fe(()=>{e.enable&&si(e.selector||".markdown-body img",{background:"var(--medium-zoom-c-bg, rgba(0, 0, 0, 0.8))",...e.options})})}function mi(){const n=bt(),e=$t();wn&&window.addEventListener("click",t=>{const l=t.target;if(l.matches('[class*="language-"] > button.collapse')){const a=l.parentElement;a==null||a.removeAttribute("style"),a==null||a.classList.remove("folded")}}),fe(()=>{const t=document.querySelectorAll('div[class*="language-"]'),l=n.value.codeHeightLimit,a=e.value.codeHeightLimit;let o;if(typeof a!="number"||a<=0){if(l===void 0||l<=0)return;o=l}else o=a;for(const i of Array.from(t))i.scrollHeight>o&&i.classList.add("folded")})}function pi(){const n=bt(),e=D(()=>n.value.cdn.prefix);Yl({link:[{rel:"stylesheet",href:`${e.value}aplayer/dist/APlayer.min.css`}]}),Nt(`${e.value}aplayer/dist/APlayer.min.js`,()=>{Nt(`${e.value}meting@2/dist/Meting.min.js`)})}function hi(){Yl({script:[{src:"https://static.codepen.io/assets/embed/ei.js",async:!0}]})}function fi(n,e=[2,4]){return vi(n,typeof e=="number"?[e,e]:e==="deep"?[2,6]:e)}function vi(n,e){const t=[];return n=n.map(l=>({...l})),n.forEach((l,a)=>{l.level>=e[0]&&l.level<=e[1]&&gi(a,n,e)&&t.push(l)}),t}function gi(n,e,t){if(n===0)return!0;const l=e[n];for(let a=n-1;a>=0;a--){const o=e[a];if(o.level<l.level&&o.level>=t[0]&&o.level<=t[1])return o.children==null&&(o.children=[]),o.children.push(l),!1}return!0}function yi(){const n=$t(),e=Lo(),t=zo([]),l=D(()=>n.value.outline??e.value.outline);return xn(()=>{l.value!==!1&&(t.value=ki(l.value))}),{headers:t,handleClick:({target:o})=>{const i=o.href.split("#")[1],r=document.getElementById(decodeURIComponent(i));r==null||r.focus({preventScroll:!0})}}}function ki(n){const e=Array.from(document.querySelectorAll(".markdown-body :where(h1,h2,h3,h4,h5,h6)")).filter(t=>t.id&&t.hasChildNodes()).map(t=>{const l=Number(t.tagName[1]);return{title:wi(t),link:`#${t.id}`,level:l,lang:t.lang}});return fi(e,n)}function wi(n){let e="";for(const t of Array.from(n.childNodes))if(t.nodeType===1){if(t.classList.contains("VABadge")||t.classList.contains("header-anchor"))continue;e+=t.textContent}else t.nodeType===3&&(e+=t.textContent);return e.trim()}function bi(){return{isAsideEnabled:T(!0)}}const $i=56,Mt=33;function _i(n,e){const{isAsideEnabled:t}=bi(),l=Vo(o,100);let a=null;fe(()=>{requestAnimationFrame(o),window.addEventListener("scroll",l)}),Zl(()=>{r(location.hash)}),Ke(()=>{window.removeEventListener("scroll",l)});function o(){if(!t.value)return;const s=[].slice.call(n.value.querySelectorAll(".outline-link")),u=[].slice.call(document.querySelectorAll(".content .header-anchor")).filter(C=>s.some(x=>x.hash===C.hash&&C.offsetParent!==null)),c=window.scrollY,$=window.innerHeight,d=n.value.offsetHeight,_=Math.abs(c+$-d)<1;if(u.length&&_){r(u[u.length-1].hash);return}for(let C=0;C<u.length;C++){const x=u[C],w=u[C+1],[p,k]=xi(C,x,w);if(p){r(k);return}}}const i=()=>{const s=a;if(!s)return;const u=s.getBoundingClientRect().top,c=s.getBoundingClientRect().bottom;(u<Mt||c>window.innerHeight-Mt)&&s.scrollIntoView()};function r(s){a&&a.classList.remove("active"),s==null?a=null:a=n.value.querySelector(`a[href="${decodeURIComponent(s)}"]`);const u=a;i(),u?(u.classList.add("active"),e.value.style.top=`${u.offsetTop+Mt}px`,e.value.style.opacity="1"):(e.value.style.top=`${Mt}px`,e.value.style.opacity="0")}}function Jn(n){return n.parentElement.offsetTop-$i-15}function xi(n,e,t){const l=window.scrollY;return n===0&&l===0?[!0,null]:l<Jn(e)?[!1,null]:!t||l<Jn(t)?[!0,e.hash]:[!1,null]}const Ci=["lang"],Li=["href"],zi=ie({__name:"YunOutlineItem",props:{headers:{},onClick:{type:Function},root:{type:Boolean}},setup(n){const{locale:e}=Qe();return(t,l)=>{const a=Xe("YunOutlineItem",!0);return m(),v("ul",{class:Z(t.root?"root":"nested")},[(m(!0),v(K,null,ae(t.headers,({children:o,link:i,title:r,lang:s})=>(m(),v("li",{key:i,class:"va-toc-item",lang:s||b(e)},[f("a",{class:"outline-link",href:i,onClick:l[0]||(l[0]=(...u)=>t.onClick&&t.onClick(...u))},M(r),9,Li),o!=null&&o.length?(m(),ee(a,{key:0,headers:o,"on-click":t.onClick},null,8,["headers","on-click"])):I("v-if",!0)],8,Ci))),128))],2)}}}),Ei=bn(zi,[["__scopeId","data-v-699db71a"]]),Ii=n=>(Gl("data-v-75b693dc"),n=n(),Kl(),n),Ri={class:"content"},Ai={class:"outline-title"},Si={"aria-labelledby":"doc-outline-aria-label"},Ti=Ii(()=>f("span",{id:"doc-outline-aria-label",class:"visually-hidden"}," Table of Contents for current page ",-1)),Mi=ie({__name:"YunOutline",setup(n){const e=Eo(),t=T(),l=T();_i(t,l);const{headers:a,handleClick:o}=yi();return(i,r)=>{const s=Ei;return _e((m(),v("div",{ref_key:"container",ref:t},[f("div",Ri,[f("div",Ai,M(b(e).outlineTitle||"On this page"),1),f("div",{ref_key:"marker",ref:l,class:"outline-marker"},null,512),f("nav",Si,[Ti,W(s,{class:"va-toc relative z-1 css-i18n-toc",headers:b(a),"on-click":b(o),root:""},null,8,["headers","on-click"])])])],512)),[[Ye,b(a).length]])}}}),ji=bn(Mi,[["__scopeId","data-v-75b693dc"]]),Hi=f("div",{"i-ri-file-list-line":""},null,-1),Ui=[Hi],Oi={class:"aside-container",flex:"~ col"},Vi={key:0,m:"t-6 b-2",font:"serif black"},Ni=f("div",{class:"flex-grow"},null,-1),Di={key:2,class:"custom-container"},Pi=ie({__name:"YunAside",setup(n){const e=$t(),{t}=Qe(),l=Io();return(a,o)=>{const i=Ro,r=ji;return m(),v(K,null,[f("button",{class:"xl:hidden toc-btn shadow fixed yun-icon-btn z-350",opacity:"75",right:"2",bottom:"19",onClick:o[0]||(o[0]=s=>b(l).toggleRightSidebar())},Ui),W(i,{show:b(l).isRightSidebarOpen,onClick:o[1]||(o[1]=s=>b(l).toggleRightSidebar())},null,8,["show"]),I("  "),f("aside",{class:Z(["va-card yun-aside",b(l).isRightSidebarOpen&&"open"]),m:"l-4",text:"center",overflow:"auto"},[f("div",Oi,[b(e).toc!==!1?(m(),v("h2",Vi,M(b(t)("sidebar.toc")),1)):I("v-if",!0),b(e).toc!==!1?(m(),ee(r,{key:1})):I("v-if",!0),Ni,a.$slots.default?(m(),v("div",Di,[ue(a.$slots,"default")])):I("v-if",!0)])],2)],64)}}}),Bi=ie({__name:"YunArtalk",setup(n){return _n(sa)||(void 0)(),(e,t)=>{const l=Xe("ArtalkClient");return m(),ee(l)}}}),Fi=f("div",{id:"tcomment",w:"full"},null,-1),qi=[Fi],Wi=ie({__name:"YunTwikoo",setup(n){return _n(sa)||(void 0)(),(e,t)=>(m(),v("div",null,qi))}}),ua={"Content-Type":"application/json"},Be=n=>`${n.replace(/\/?$/,"/")}api/`,et=(n,e="")=>{if(typeof n=="object"&&n.errno)throw new TypeError(`${e} failed with ${n.errno}: ${n.errmsg}`);return n},Cn=({serverURL:n,lang:e,paths:t,type:l,signal:a})=>fetch(`${Be(n)}article?path=${encodeURIComponent(t.join(","))}&type=${encodeURIComponent(l.join(","))}&lang=${e}`,{signal:a}).then(o=>o.json()).then(o=>et(o,"Get counter").data),vt=({serverURL:n,lang:e,path:t,type:l,action:a})=>fetch(`${Be(n)}article?lang=${e}`,{method:"POST",headers:ua,body:JSON.stringify({path:t,type:l,action:a})}).then(o=>o.json()).then(o=>et(o,"Update counter").data),da=({serverURL:n,lang:e,path:t,page:l,pageSize:a,sortBy:o,signal:i,token:r})=>{const s={};return r&&(s.Authorization=`Bearer ${r}`),fetch(`${Be(n)}comment?path=${encodeURIComponent(t)}&pageSize=${a}&page=${l}&lang=${e}&sortBy=${o}`,{signal:i,headers:s}).then(u=>u.json()).then(u=>et(u,"Get comment data").data)},ma=({serverURL:n,lang:e,token:t,comment:l})=>{const a={"Content-Type":"application/json"};return t&&(a.Authorization=`Bearer ${t}`),fetch(`${Be(n)}comment?lang=${e}`,{method:"POST",headers:a,body:JSON.stringify(l)}).then(o=>o.json())},pa=({serverURL:n,lang:e,token:t,objectId:l})=>fetch(`${Be(n)}comment/${l}?lang=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}).then(a=>a.json()).then(a=>et(a,"Delete comment")),Se=({serverURL:n,lang:e,token:t,objectId:l,comment:a})=>fetch(`${Be(n)}comment/${l}?lang=${e}`,{method:"PUT",headers:{...ua,Authorization:`Bearer ${t}`},body:JSON.stringify(a)}).then(o=>o.json()).then(o=>et(o,"Update comment")),Yi=({serverURL:n,lang:e,paths:t,signal:l})=>fetch(`${Be(n)}comment?type=count&url=${encodeURIComponent(t.join(","))}&lang=${e}`,{signal:l}).then(a=>a.json()).then(a=>et(a,"Get comment count").data),ha=({lang:n,serverURL:e})=>{const t=(window.innerWidth-450)/2,l=(window.innerHeight-450)/2,a=window.open(`${e.replace(/\/$/,"")}/ui/login?lng=${encodeURIComponent(n)}`,"_blank",`width=450,height=450,left=${t},top=${l},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);return a==null||a.postMessage({type:"TOKEN",data:null},"*"),new Promise(o=>{const i=({data:r})=>{!r||typeof r!="object"||r.type!=="userInfo"||r.data.token&&(a==null||a.close(),window.removeEventListener("message",i),o(r.data))};window.addEventListener("message",i)})},Zi=({serverURL:n,lang:e,paths:t,signal:l})=>Cn({serverURL:n,lang:e,paths:t,type:["time"],signal:l}),Gi=n=>vt({...n,type:"time",action:"inc"});var dt=new Map;function Ki(n){var e=dt.get(n);e&&e.destroy()}function Qi(n){var e=dt.get(n);e&&e.update()}var ct=null;typeof window>"u"?((ct=function(n){return n}).destroy=function(n){return n},ct.update=function(n){return n}):((ct=function(n,e){return n&&Array.prototype.forEach.call(n.length?n:[n],function(t){return function(l){if(l&&l.nodeName&&l.nodeName==="TEXTAREA"&&!dt.has(l)){var a,o=null,i=window.getComputedStyle(l),r=(a=l.value,function(){u({testForHeightReduction:a===""||!l.value.startsWith(a),restoreTextAlign:null}),a=l.value}),s=(function($){l.removeEventListener("autosize:destroy",s),l.removeEventListener("autosize:update",c),l.removeEventListener("input",r),window.removeEventListener("resize",c),Object.keys($).forEach(function(d){return l.style[d]=$[d]}),dt.delete(l)}).bind(l,{height:l.style.height,resize:l.style.resize,textAlign:l.style.textAlign,overflowY:l.style.overflowY,overflowX:l.style.overflowX,wordWrap:l.style.wordWrap});l.addEventListener("autosize:destroy",s),l.addEventListener("autosize:update",c),l.addEventListener("input",r),window.addEventListener("resize",c),l.style.overflowX="hidden",l.style.wordWrap="break-word",dt.set(l,{destroy:s,update:c}),c()}function u($){var d,_,C=$.restoreTextAlign,x=C===void 0?null:C,w=$.testForHeightReduction,p=w===void 0||w,k=i.overflowY;if(l.scrollHeight!==0&&(i.resize==="vertical"?l.style.resize="none":i.resize==="both"&&(l.style.resize="horizontal"),p&&(d=function(P){for(var A=[];P&&P.parentNode&&P.parentNode instanceof Element;)P.parentNode.scrollTop&&A.push([P.parentNode,P.parentNode.scrollTop]),P=P.parentNode;return function(){return A.forEach(function(N){var j=N[0],L=N[1];j.style.scrollBehavior="auto",j.scrollTop=L,j.style.scrollBehavior=null})}}(l),l.style.height=""),_=i.boxSizing==="content-box"?l.scrollHeight-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)):l.scrollHeight+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),i.maxHeight!=="none"&&_>parseFloat(i.maxHeight)?(i.overflowY==="hidden"&&(l.style.overflow="scroll"),_=parseFloat(i.maxHeight)):i.overflowY!=="hidden"&&(l.style.overflow="hidden"),l.style.height=_+"px",x&&(l.style.textAlign=x),d&&d(),o!==_&&(l.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),o=_),k!==i.overflow&&!x)){var O=i.textAlign;i.overflow==="hidden"&&(l.style.textAlign=O==="start"?"end":"start"),u({restoreTextAlign:O,testForHeightReduction:!0})}}function c(){u({testForHeightReduction:!0,restoreTextAlign:null})}}(t)}),n}).destroy=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],Ki),n},ct.update=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],Qi),n});var Pt=ct;function Ln(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Fe=Ln();function fa(n){Fe=n}const va=/[&<>"']/,Xi=new RegExp(va.source,"g"),ga=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ji=new RegExp(ga.source,"g"),er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},el=n=>er[n];function ve(n,e){if(e){if(va.test(n))return n.replace(Xi,el)}else if(ga.test(n))return n.replace(Ji,el);return n}const tr=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function nr(n){return n.replace(tr,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const lr=/(^|[^\[])\^/g;function le(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const l={replace:(a,o)=>{let i=typeof o=="string"?o:o.source;return i=i.replace(lr,"$1"),t=t.replace(a,i),l},getRegex:()=>new RegExp(t,e)};return l}function tl(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const mt={exec:()=>null};function nl(n,e){const t=n.replace(/\|/g,(o,i,r)=>{let s=!1,u=i;for(;--u>=0&&r[u]==="\\";)s=!s;return s?"|":" |"}),l=t.split(/ \|/);let a=0;if(l[0].trim()||l.shift(),l.length>0&&!l[l.length-1].trim()&&l.pop(),e)if(l.length>e)l.splice(e);else for(;l.length<e;)l.push("");for(;a<l.length;a++)l[a]=l[a].trim().replace(/\\\|/g,"|");return l}function jt(n,e,t){const l=n.length;if(l===0)return"";let a=0;for(;a<l;){const o=n.charAt(l-a-1);if(o===e&&!t)a++;else if(o!==e&&t)a++;else break}return n.slice(0,l-a)}function ar(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let l=0;l<n.length;l++)if(n[l]==="\\")l++;else if(n[l]===e[0])t++;else if(n[l]===e[1]&&(t--,t<0))return l;return-1}function ll(n,e,t,l){const a=e.href,o=e.title?ve(e.title):null,i=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){l.state.inLink=!0;const r={type:"link",raw:t,href:a,title:o,text:i,tokens:l.inlineTokens(i)};return l.state.inLink=!1,r}return{type:"image",raw:t,href:a,title:o,text:ve(i)}}function or(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const l=t[1];return e.split(`
`).map(a=>{const o=a.match(/^\s+/);if(o===null)return a;const[i]=o;return i.length>=l.length?a.slice(l.length):a}).join(`
`)}class Bt{constructor(e){oe(this,"options");oe(this,"rules");oe(this,"lexer");this.options=e||Fe}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const l=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?l:jt(l,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const l=t[0],a=or(l,t[3]||"");return{type:"code",raw:l,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:a}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let l=t[2].trim();if(/#$/.test(l)){const a=jt(l,"#");(this.options.pedantic||!a||/ $/.test(a))&&(l=a.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:l,tokens:this.lexer.inline(l)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let l=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);l=jt(l.replace(/^ *>[ \t]?/gm,""),`
`);const a=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(l);return this.lexer.state.top=a,{type:"blockquote",raw:t[0],tokens:o,text:l}}}list(e){let t=this.rules.block.list.exec(e);if(t){let l=t[1].trim();const a=l.length>1,o={type:"list",raw:"",ordered:a,start:a?+l.slice(0,-1):"",loose:!1,items:[]};l=a?`\\d{1,9}\\${l.slice(-1)}`:`\\${l}`,this.options.pedantic&&(l=a?l:"[*+-]");const i=new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`);let r="",s="",u=!1;for(;e;){let c=!1;if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let $=t[2].split(`
`,1)[0].replace(/^\t+/,p=>" ".repeat(3*p.length)),d=e.split(`
`,1)[0],_=0;this.options.pedantic?(_=2,s=$.trimStart()):(_=t[2].search(/[^ ]/),_=_>4?1:_,s=$.slice(_),_+=t[1].length);let C=!1;if(!$&&/^ *$/.test(d)&&(r+=d+`
`,e=e.substring(d.length+1),c=!0),!c){const p=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),k=new RegExp(`^ {0,${Math.min(3,_-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),O=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:\`\`\`|~~~)`),P=new RegExp(`^ {0,${Math.min(3,_-1)}}#`);for(;e;){const A=e.split(`
`,1)[0];if(d=A,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),O.test(d)||P.test(d)||p.test(d)||k.test(e))break;if(d.search(/[^ ]/)>=_||!d.trim())s+=`
`+d.slice(_);else{if(C||$.search(/[^ ]/)>=4||O.test($)||P.test($)||k.test($))break;s+=`
`+d}!C&&!d.trim()&&(C=!0),r+=A+`
`,e=e.substring(A.length+1),$=d.slice(_)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(r)&&(u=!0));let x=null,w;this.options.gfm&&(x=/^\[[ xX]\] /.exec(s),x&&(w=x[0]!=="[ ] ",s=s.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:r,task:!!x,checked:w,loose:!1,text:s,tokens:[]}),o.raw+=r}o.items[o.items.length-1].raw=r.trimEnd(),o.items[o.items.length-1].text=s.trimEnd(),o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){const $=o.items[c].tokens.filter(_=>_.type==="space"),d=$.length>0&&$.some(_=>/\n.*\n/.test(_.raw));o.loose=d}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const l=t[1].toLowerCase().replace(/\s+/g," "),a=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:l,raw:t[0],href:a,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const l=nl(t[1]),a=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(l.length===a.length){for(const r of a)/^ *-+: *$/.test(r)?i.align.push("right"):/^ *:-+: *$/.test(r)?i.align.push("center"):/^ *:-+ *$/.test(r)?i.align.push("left"):i.align.push(null);for(const r of l)i.header.push({text:r,tokens:this.lexer.inline(r)});for(const r of o)i.rows.push(nl(r,i.header.length).map(s=>({text:s,tokens:this.lexer.inline(s)})));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const l=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:l,tokens:this.lexer.inline(l)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ve(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const l=t[2].trim();if(!this.options.pedantic&&/^</.test(l)){if(!/>$/.test(l))return;const i=jt(l.slice(0,-1),"\\");if((l.length-i.length)%2===0)return}else{const i=ar(t[2],"()");if(i>-1){const s=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let a=t[2],o="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);i&&(a=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(this.options.pedantic&&!/>$/.test(l)?a=a.slice(1):a=a.slice(1,-1)),ll(t,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let l;if((l=this.rules.inline.reflink.exec(e))||(l=this.rules.inline.nolink.exec(e))){const a=(l[2]||l[1]).replace(/\s+/g," "),o=t[a.toLowerCase()];if(!o){const i=l[0].charAt(0);return{type:"text",raw:i,text:i}}return ll(l,o,l[0],this.lexer)}}emStrong(e,t,l=""){let a=this.rules.inline.emStrongLDelim.exec(e);if(!a||a[3]&&l.match(/[\p{L}\p{N}]/u))return;if(!(a[1]||a[2]||"")||!l||this.rules.inline.punctuation.exec(l)){const i=[...a[0]].length-1;let r,s,u=i,c=0;const $=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for($.lastIndex=0,t=t.slice(-1*e.length+i);(a=$.exec(t))!=null;){if(r=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!r)continue;if(s=[...r].length,a[3]||a[4]){u+=s;continue}else if((a[5]||a[6])&&i%3&&!((i+s)%3)){c+=s;continue}if(u-=s,u>0)continue;s=Math.min(s,s+u+c);const d=[...a[0]][0].length,_=e.slice(0,i+a.index+d+s);if(Math.min(i,s)%2){const x=_.slice(1,-1);return{type:"em",raw:_,text:x,tokens:this.lexer.inlineTokens(x)}}const C=_.slice(2,-2);return{type:"strong",raw:_,text:C,tokens:this.lexer.inlineTokens(C)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let l=t[2].replace(/\n/g," ");const a=/[^ ]/.test(l),o=/^ /.test(l)&&/ $/.test(l);return a&&o&&(l=l.substring(1,l.length-1)),l=ve(l,!0),{type:"codespan",raw:t[0],text:l}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let l,a;return t[2]==="@"?(l=ve(t[1]),a="mailto:"+l):(l=ve(t[1]),a=l),{type:"link",raw:t[0],text:l,href:a,tokens:[{type:"text",raw:l,text:l}]}}}url(e){var l;let t;if(t=this.rules.inline.url.exec(e)){let a,o;if(t[2]==="@")a=ve(t[0]),o="mailto:"+a;else{let i;do i=t[0],t[0]=((l=this.rules.inline._backpedal.exec(t[0]))==null?void 0:l[0])??"";while(i!==t[0]);a=ve(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let l;return this.lexer.state.inRawBlock?l=t[0]:l=ve(t[0]),{type:"text",raw:t[0],text:l}}}}const ir=/^(?: *(?:\n|$))+/,rr=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,sr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,_t=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,cr=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ya=/(?:[*+-]|\d{1,9}[.)])/,ka=le(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ya).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),zn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ur=/^[^\n]+/,En=/(?!\s*\])(?:\\.|[^\[\]\\])+/,dr=le(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",En).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),mr=le(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ya).getRegex(),Gt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",In=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,pr=le("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",In).replace("tag",Gt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wa=le(zn).replace("hr",_t).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gt).getRegex(),hr=le(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wa).getRegex(),Rn={blockquote:hr,code:rr,def:dr,fences:sr,heading:cr,hr:_t,html:pr,lheading:ka,list:mr,newline:ir,paragraph:wa,table:mt,text:ur},al=le("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_t).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gt).getRegex(),fr={...Rn,table:al,paragraph:le(zn).replace("hr",_t).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",al).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gt).getRegex()},vr={...Rn,html:le(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",In).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:le(zn).replace("hr",_t).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ka).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ba=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,$a=/^( {2,}|\\)\n(?!\s*$)/,yr=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,xt="\\p{P}\\p{S}",kr=le(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,xt).getRegex(),wr=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br=le(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,xt).getRegex(),$r=le("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,xt).getRegex(),_r=le("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,xt).getRegex(),xr=le(/\\([punct])/,"gu").replace(/punct/g,xt).getRegex(),Cr=le(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Lr=le(In).replace("(?:-->|$)","-->").getRegex(),zr=le("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Lr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ft=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Er=le(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ft).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_a=le(/^!?\[(label)\]\[(ref)\]/).replace("label",Ft).replace("ref",En).getRegex(),xa=le(/^!?\[(ref)\](?:\[\])?/).replace("ref",En).getRegex(),Ir=le("reflink|nolink(?!\\()","g").replace("reflink",_a).replace("nolink",xa).getRegex(),An={_backpedal:mt,anyPunctuation:xr,autolink:Cr,blockSkip:wr,br:$a,code:gr,del:mt,emStrongLDelim:br,emStrongRDelimAst:$r,emStrongRDelimUnd:_r,escape:ba,link:Er,nolink:xa,punctuation:kr,reflink:_a,reflinkSearch:Ir,tag:zr,text:yr,url:mt},Rr={...An,link:le(/^!?\[(label)\]\((.*?)\)/).replace("label",Ft).getRegex(),reflink:le(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ft).getRegex()},dn={...An,escape:le(ba).replace("])","~|])").getRegex(),url:le(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ar={...dn,br:le($a).replace("{2,}","*").getRegex(),text:le(dn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ht={normal:Rn,gfm:fr,pedantic:vr},st={normal:An,gfm:dn,breaks:Ar,pedantic:Rr};class xe{constructor(e){oe(this,"tokens");oe(this,"options");oe(this,"state");oe(this,"tokenizer");oe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Fe,this.options.tokenizer=this.options.tokenizer||new Bt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ht.normal,inline:st.normal};this.options.pedantic?(t.block=Ht.pedantic,t.inline=st.pedantic):this.options.gfm&&(t.block=Ht.gfm,this.options.breaks?t.inline=st.breaks:t.inline=st.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ht,inline:st}}static lex(e,t){return new xe(t).lex(e)}static lexInline(e,t){return new xe(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const l=this.inlineQueue[t];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(r,s,u)=>s+"    ".repeat(u.length));let l,a,o,i;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>(l=r.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),a=t[t.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),a=t[t.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+l.raw,a.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let r=1/0;const s=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},s),typeof u=="number"&&u>=0&&(r=Math.min(r,u))}),r<1/0&&r>=0&&(o=e.substring(0,r+1))}if(this.state.top&&(l=this.tokenizer.paragraph(o))){a=t[t.length-1],i&&a.type==="paragraph"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):t.push(l),i=o.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),a=t[t.length-1],a&&a.type==="text"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):t.push(l);continue}if(e){const r="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(r);break}else throw new Error(r)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let l,a,o,i=e,r,s,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(u=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(l=c.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),a=t[t.length-1],a&&l.type==="text"&&a.type==="text"?(a.raw+=l.raw,a.text+=l.text):t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length),a=t[t.length-1],a&&l.type==="text"&&a.type==="text"?(a.raw+=l.raw,a.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,i,u)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const $=e.slice(1);let d;this.options.extensions.startInline.forEach(_=>{d=_.call({lexer:this},$),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(o)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(u=l.raw.slice(-1)),s=!0,a=t[t.length-1],a&&a.type==="text"?(a.raw+=l.raw,a.text+=l.text):t.push(l);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}}class qt{constructor(e){oe(this,"options");this.options=e||Fe}code(e,t,l){var o;const a=(o=(t||"").match(/^\S*/))==null?void 0:o[0];return e=e.replace(/\n$/,"")+`
`,a?'<pre><code class="language-'+ve(a)+'">'+(l?e:ve(e,!0))+`</code></pre>
`:"<pre><code>"+(l?e:ve(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,l){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,l){const a=t?"ol":"ul",o=t&&l!==1?' start="'+l+'"':"";return"<"+a+o+`>
`+e+"</"+a+`>
`}listitem(e,t,l){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const l=t.header?"th":"td";return(t.align?`<${l} align="${t.align}">`:`<${l}>`)+e+`</${l}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,l){const a=tl(e);if(a===null)return l;e=a;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+l+"</a>",o}image(e,t,l){const a=tl(e);if(a===null)return l;e=a;let o=`<img src="${e}" alt="${l}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class Sn{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,l){return""+l}image(e,t,l){return""+l}br(){return""}}class Ce{constructor(e){oe(this,"options");oe(this,"renderer");oe(this,"textRenderer");this.options=e||Fe,this.options.renderer=this.options.renderer||new qt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Sn}static parse(e,t){return new Ce(t).parse(e)}static parseInline(e,t){return new Ce(t).parseInline(e)}parse(e,t=!0){let l="";for(let a=0;a<e.length;a++){const o=e[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const i=o,r=this.options.extensions.renderers[i.type].call({parser:this},i);if(r!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){l+=r||"";continue}}switch(o.type){case"space":continue;case"hr":{l+=this.renderer.hr();continue}case"heading":{const i=o;l+=this.renderer.heading(this.parseInline(i.tokens),i.depth,nr(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=o;l+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=o;let r="",s="";for(let c=0;c<i.header.length;c++)s+=this.renderer.tablecell(this.parseInline(i.header[c].tokens),{header:!0,align:i.align[c]});r+=this.renderer.tablerow(s);let u="";for(let c=0;c<i.rows.length;c++){const $=i.rows[c];s="";for(let d=0;d<$.length;d++)s+=this.renderer.tablecell(this.parseInline($[d].tokens),{header:!1,align:i.align[d]});u+=this.renderer.tablerow(s)}l+=this.renderer.table(r,u);continue}case"blockquote":{const i=o,r=this.parse(i.tokens);l+=this.renderer.blockquote(r);continue}case"list":{const i=o,r=i.ordered,s=i.start,u=i.loose;let c="";for(let $=0;$<i.items.length;$++){const d=i.items[$],_=d.checked,C=d.task;let x="";if(d.task){const w=this.renderer.checkbox(!!_);u?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=w+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=w+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:w+" "}):x+=w+" "}x+=this.parse(d.tokens,u),c+=this.renderer.listitem(x,C,!!_)}l+=this.renderer.list(c,r,s);continue}case"html":{const i=o;l+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=o;l+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=o,r=i.tokens?this.parseInline(i.tokens):i.text;for(;a+1<e.length&&e[a+1].type==="text";)i=e[++a],r+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);l+=t?this.renderer.paragraph(r):r;continue}default:{const i='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return l}parseInline(e,t){t=t||this.renderer;let l="";for(let a=0;a<e.length;a++){const o=e[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const i=this.options.extensions.renderers[o.type].call({parser:this},o);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){l+=i||"";continue}}switch(o.type){case"escape":{const i=o;l+=t.text(i.text);break}case"html":{const i=o;l+=t.html(i.text);break}case"link":{const i=o;l+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break}case"image":{const i=o;l+=t.image(i.href,i.title,i.text);break}case"strong":{const i=o;l+=t.strong(this.parseInline(i.tokens,t));break}case"em":{const i=o;l+=t.em(this.parseInline(i.tokens,t));break}case"codespan":{const i=o;l+=t.codespan(i.text);break}case"br":{l+=t.br();break}case"del":{const i=o;l+=t.del(this.parseInline(i.tokens,t));break}case"text":{const i=o;l+=t.text(i.text);break}default:{const i='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return l}}class pt{constructor(e){oe(this,"options");this.options=e||Fe}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}oe(pt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var wt,mn,Zt,Ca;class Tn{constructor(...e){tn(this,wt);tn(this,Zt);oe(this,"defaults",Ln());oe(this,"options",this.setOptions);oe(this,"parse",Rt(this,wt,mn).call(this,xe.lex,Ce.parse));oe(this,"parseInline",Rt(this,wt,mn).call(this,xe.lexInline,Ce.parseInline));oe(this,"Parser",Ce);oe(this,"Renderer",qt);oe(this,"TextRenderer",Sn);oe(this,"Lexer",xe);oe(this,"Tokenizer",Bt);oe(this,"Hooks",pt);this.use(...e)}walkTokens(e,t){var a,o;let l=[];for(const i of e)switch(l=l.concat(t.call(this,i)),i.type){case"table":{const r=i;for(const s of r.header)l=l.concat(this.walkTokens(s.tokens,t));for(const s of r.rows)for(const u of s)l=l.concat(this.walkTokens(u.tokens,t));break}case"list":{const r=i;l=l.concat(this.walkTokens(r.items,t));break}default:{const r=i;(o=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&o[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{const u=r[s].flat(1/0);l=l.concat(this.walkTokens(u,t))}):r.tokens&&(l=l.concat(this.walkTokens(r.tokens,t)))}}return l}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(l=>{const a={...l};if(a.async=this.defaults.async||a.async||!1,l.extensions&&(l.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const i=t.renderers[o.name];i?t.renderers[o.name]=function(...r){let s=o.renderer.apply(this,r);return s===!1&&(s=i.apply(this,r)),s}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[o.level];i?i.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),a.extensions=t),l.renderer){const o=this.defaults.renderer||new qt(this.defaults);for(const i in l.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(i==="options")continue;const r=i,s=l.renderer[r],u=o[r];o[r]=(...c)=>{let $=s.apply(o,c);return $===!1&&($=u.apply(o,c)),$||""}}a.renderer=o}if(l.tokenizer){const o=this.defaults.tokenizer||new Bt(this.defaults);for(const i in l.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const r=i,s=l.tokenizer[r],u=o[r];o[r]=(...c)=>{let $=s.apply(o,c);return $===!1&&($=u.apply(o,c)),$}}a.tokenizer=o}if(l.hooks){const o=this.defaults.hooks||new pt;for(const i in l.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(i==="options")continue;const r=i,s=l.hooks[r],u=o[r];pt.passThroughHooks.has(i)?o[r]=c=>{if(this.defaults.async)return Promise.resolve(s.call(o,c)).then(d=>u.call(o,d));const $=s.call(o,c);return u.call(o,$)}:o[r]=(...c)=>{let $=s.apply(o,c);return $===!1&&($=u.apply(o,c)),$}}a.hooks=o}if(l.walkTokens){const o=this.defaults.walkTokens,i=l.walkTokens;a.walkTokens=function(r){let s=[];return s.push(i.call(this,r)),o&&(s=s.concat(o.call(this,r))),s}}this.defaults={...this.defaults,...a}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return xe.lex(e,t??this.defaults)}parser(e,t){return Ce.parse(e,t??this.defaults)}}wt=new WeakSet,mn=function(e,t){return(l,a)=>{const o={...a},i={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const r=Rt(this,Zt,Ca).call(this,!!i.silent,!!i.async);if(typeof l>"u"||l===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof l!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(l)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(l):l).then(s=>e(s,i)).then(s=>i.hooks?i.hooks.processAllTokens(s):s).then(s=>i.walkTokens?Promise.all(this.walkTokens(s,i.walkTokens)).then(()=>s):s).then(s=>t(s,i)).then(s=>i.hooks?i.hooks.postprocess(s):s).catch(r);try{i.hooks&&(l=i.hooks.preprocess(l));let s=e(l,i);i.hooks&&(s=i.hooks.processAllTokens(s)),i.walkTokens&&this.walkTokens(s,i.walkTokens);let u=t(s,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(s){return r(s)}}},Zt=new WeakSet,Ca=function(e,t){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const a="<p>An error occurred:</p><pre>"+ve(l.message+"",!0)+"</pre>";return t?Promise.resolve(a):a}if(t)return Promise.reject(l);throw l}};const De=new Tn;function ne(n,e){return De.parse(n,e)}ne.options=ne.setOptions=function(n){return De.setOptions(n),ne.defaults=De.defaults,fa(ne.defaults),ne};ne.getDefaults=Ln;ne.defaults=Fe;ne.use=function(...n){return De.use(...n),ne.defaults=De.defaults,fa(ne.defaults),ne};ne.walkTokens=function(n,e){return De.walkTokens(n,e)};ne.parseInline=De.parseInline;ne.Parser=Ce;ne.parser=Ce.parse;ne.Renderer=qt;ne.TextRenderer=Sn;ne.Lexer=xe;ne.lexer=xe.lex;ne.Tokenizer=Bt;ne.Hooks=pt;ne.parse=ne;ne.options;ne.setOptions;ne.use;ne.walkTokens;ne.parseInline;Ce.parse;xe.lex;function La(n){if(typeof n=="function"&&(n={highlight:n}),!n||typeof n.highlight!="function")throw new Error("Must provide highlight function");return typeof n.langPrefix!="string"&&(n.langPrefix="language-"),{async:!!n.async,walkTokens(e){if(e.type!=="code")return;const t=ol(e.lang);if(n.async)return Promise.resolve(n.highlight(e.text,t,e.lang||"")).then(il(e));const l=n.highlight(e.text,t,e.lang||"");if(l instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");il(e)(l)},renderer:{code(e,t,l){const a=ol(t),o=a?` class="${n.langPrefix}${sl(a)}"`:"";return e=e.replace(/\n$/,""),`<pre><code${o}>${l?e:sl(e,!0)}
</code></pre>`}}}}function ol(n){return(n||"").match(/\S*/)[0]}function il(n){return e=>{typeof e=="string"&&e!==n.text&&(n.escaped=!0,n.text=e)}}const za=/[&<>"']/,Sr=new RegExp(za.source,"g"),Ea=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Tr=new RegExp(Ea.source,"g"),Mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rl=n=>Mr[n];function sl(n,e){if(e){if(za.test(n))return n.replace(Sr,rl)}else if(Ea.test(n))return n.replace(Tr,rl);return n}var Mn={},Ze={},Ct={},jr=Dt&&Dt.__awaiter||function(n,e,t,l){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function r(c){try{u(l.next(c))}catch($){i($)}}function s(c){try{u(l.throw(c))}catch($){i($)}}function u(c){c.done?o(c.value):a(c.value).then(r,s)}u((l=l.apply(n,e||[])).next())})},Hr=Dt&&Dt.__generator||function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},l,a,o,i;return i={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function r(u){return function(c){return s([u,c])}}function s(u){if(l)throw new TypeError("Generator is already executing.");for(;t;)try{if(l=1,a&&(o=u[0]&2?a.return:u[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,u[1])).done)return o;switch(a=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],a=0}finally{l=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.ReCaptchaInstance=void 0;var Ur=function(){function n(e,t,l){this.siteKey=e,this.recaptchaID=t,this.recaptcha=l,this.styleContainer=null}return n.prototype.execute=function(e){return jr(this,void 0,void 0,function(){return Hr(this,function(t){return[2,this.recaptcha.enterprise?this.recaptcha.enterprise.execute(this.recaptchaID,{action:e}):this.recaptcha.execute(this.recaptchaID,{action:e})]})})},n.prototype.getSiteKey=function(){return this.siteKey},n.prototype.hideBadge=function(){this.styleContainer===null&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{visibility:hidden !important;}",document.head.appendChild(this.styleContainer))},n.prototype.showBadge=function(){this.styleContainer!==null&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},n}();Ct.ReCaptchaInstance=Ur;Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getInstance=Ze.load=void 0;var Or=Ct,Re;(function(n){n[n.NOT_LOADED=0]="NOT_LOADED",n[n.LOADING=1]="LOADING",n[n.LOADED=2]="LOADED"})(Re||(Re={}));var Ia=function(){function n(){}return n.load=function(e,t){if(t===void 0&&(t={}),typeof document>"u")return Promise.reject(new Error("This is a library for the browser!"));if(n.getLoadingState()===Re.LOADED)return n.instance.getSiteKey()===e?Promise.resolve(n.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(n.getLoadingState()===Re.LOADING)return e!==n.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise(function(a,o){n.successfulLoadingConsumers.push(function(i){return a(i)}),n.errorLoadingRunnable.push(function(i){return o(i)})});n.instanceSiteKey=e,n.setLoadingState(Re.LOADING);var l=new n;return new Promise(function(a,o){l.loadScript(e,t.useRecaptchaNet||!1,t.useEnterprise||!1,t.renderParameters?t.renderParameters:{},t.customUrl).then(function(){n.setLoadingState(Re.LOADED);var i=l.doExplicitRender(grecaptcha,e,t.explicitRenderParameters?t.explicitRenderParameters:{},t.useEnterprise||!1),r=new Or.ReCaptchaInstance(e,i,grecaptcha);n.successfulLoadingConsumers.forEach(function(s){return s(r)}),n.successfulLoadingConsumers=[],t.autoHideBadge&&r.hideBadge(),n.instance=r,a(r)}).catch(function(i){n.errorLoadingRunnable.forEach(function(r){return r(i)}),n.errorLoadingRunnable=[],o(i)})})},n.getInstance=function(){return n.instance},n.setLoadingState=function(e){n.loadingState=e},n.getLoadingState=function(){return n.loadingState===null?Re.NOT_LOADED:n.loadingState},n.prototype.loadScript=function(e,t,l,a,o){var i=this;t===void 0&&(t=!1),l===void 0&&(l=!1),a===void 0&&(a={}),o===void 0&&(o="");var r=document.createElement("script");r.setAttribute("recaptcha-v3-script","");var s="https://www.google.com/recaptcha/api.js";t&&(l?s="https://recaptcha.net/recaptcha/enterprise.js":s="https://recaptcha.net/recaptcha/api.js"),l&&(s="https://www.google.com/recaptcha/enterprise.js"),o&&(s=o),a.render&&(a.render=void 0);var u=this.buildQueryString(a);return r.src=s+"?render=explicit"+u,new Promise(function(c,$){r.addEventListener("load",i.waitForScriptToLoad(function(){c(r)},l),!1),r.onerror=function(d){n.setLoadingState(Re.NOT_LOADED),$(d)},document.head.appendChild(r)})},n.prototype.buildQueryString=function(e){var t=Object.keys(e);return t.length<1?"":"&"+Object.keys(e).filter(function(l){return!!e[l]}).map(function(l){return l+"="+e[l]}).join("&")},n.prototype.waitForScriptToLoad=function(e,t){var l=this;return function(){window.grecaptcha===void 0?setTimeout(function(){l.waitForScriptToLoad(e,t)},n.SCRIPT_LOAD_DELAY):t?window.grecaptcha.enterprise.ready(function(){e()}):window.grecaptcha.ready(function(){e()})}},n.prototype.doExplicitRender=function(e,t,l,a){var o={sitekey:t,badge:l.badge,size:l.size,tabindex:l.tabindex};return l.container?a?e.enterprise.render(l.container,o):e.render(l.container,o):a?e.enterprise.render(o):e.render(o)},n.loadingState=null,n.instance=null,n.instanceSiteKey=null,n.successfulLoadingConsumers=[],n.errorLoadingRunnable=[],n.SCRIPT_LOAD_DELAY=25,n}();Ze.load=Ia.load;Ze.getInstance=Ia.getInstance;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReCaptchaInstance=n.getInstance=n.load=void 0;var e=Ze;Object.defineProperty(n,"load",{enumerable:!0,get:function(){return e.load}}),Object.defineProperty(n,"getInstance",{enumerable:!0,get:function(){return e.getInstance}});var t=Ct;Object.defineProperty(n,"ReCaptchaInstance",{enumerable:!0,get:function(){return t.ReCaptchaInstance}})})(Mn);const cl=({size:n})=>U("svg",{class:"wl-close-icon",viewBox:"0 0 1024 1024",width:n,height:n},[U("path",{d:"M697.173 85.333h-369.92c-144.64 0-241.92 101.547-241.92 252.587v348.587c0 150.613 97.28 252.16 241.92 252.16h369.92c144.64 0 241.494-101.547 241.494-252.16V337.92c0-151.04-96.854-252.587-241.494-252.587z",fill:"currentColor"}),U("path",{d:"m640.683 587.52-75.947-75.861 75.904-75.862a37.29 37.29 0 0 0 0-52.778 37.205 37.205 0 0 0-52.779 0l-75.946 75.818-75.862-75.946a37.419 37.419 0 0 0-52.821 0 37.419 37.419 0 0 0 0 52.821l75.947 75.947-75.776 75.733a37.29 37.29 0 1 0 52.778 52.821l75.776-75.776 75.947 75.947a37.376 37.376 0 0 0 52.779-52.821z",fill:"#888"})]),Vr=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"m341.013 394.667 27.755 393.45h271.83l27.733-393.45h64.106l-28.01 397.952a64 64 0 0 1-63.83 59.498H368.768a64 64 0 0 1-63.83-59.52l-28.053-397.93h64.128zm139.307 19.818v298.667h-64V414.485h64zm117.013 0v298.667h-64V414.485h64zM181.333 288h640v64h-640v-64zm453.483-106.667v64h-256v-64h256z",fill:"red"})),Nr=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z",fill:"currentColor"})),Dr=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[U("path",{d:"M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z",fill:"currentColor"}),U("path",{d:"M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z",fill:"currentColor"})]),Pr=({active:n=!1})=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[U("path",{d:`M850.654 323.804c-11.042-25.625-26.862-48.532-46.885-68.225-20.022-19.61-43.258-34.936-69.213-45.73-26.78-11.124-55.124-16.727-84.375-16.727-40.622 0-80.256 11.123-114.698 32.135A214.79 214.79 0 0 0 512 241.819a214.79 214.79 0 0 0-23.483-16.562c-34.442-21.012-74.076-32.135-114.698-32.135-29.25 0-57.595 5.603-84.375 16.727-25.872 10.711-49.19 26.12-69.213 45.73-20.105 19.693-35.843 42.6-46.885 68.225-11.453 26.615-17.303 54.877-17.303 83.963 0 27.439 5.603 56.03 16.727 85.117 9.31 24.307 22.659 49.52 39.715 74.981 27.027 40.293 64.188 82.316 110.33 124.915 76.465 70.615 152.189 119.394 155.402 121.371l19.528 12.525c8.652 5.52 19.776 5.52 28.427 0l19.529-12.525c3.213-2.06 78.854-50.756 155.401-121.371 46.143-42.6 83.304-84.622 110.33-124.915 17.057-25.46 30.487-50.674 39.716-74.981 11.124-29.087 16.727-57.678 16.727-85.117.082-29.086-5.768-57.348-17.221-83.963z${n?"":"M512 761.5S218.665 573.55 218.665 407.767c0-83.963 69.461-152.023 155.154-152.023 60.233 0 112.473 33.618 138.181 82.727 25.708-49.109 77.948-82.727 138.18-82.727 85.694 0 155.155 68.06 155.155 152.023C805.335 573.551 512 761.5 512 761.5z"}`,fill:n?"red":"currentColor"})]),Br=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[U("path",{d:"M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0",fill:"currentColor"}),U("path",{d:"M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0",fill:"currentColor"})]),Fr=()=>U("svg",{width:"16",height:"16",ariaHidden:"true"},U("path",{d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z",fill:"currentColor"})),qr=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"M810.667 213.333a64 64 0 0 1 64 64V704a64 64 0 0 1-64 64H478.336l-146.645 96.107a21.333 21.333 0 0 1-33.024-17.856V768h-85.334a64 64 0 0 1-64-64V277.333a64 64 0 0 1 64-64h597.334zm0 64H213.333V704h149.334v63.296L459.243 704h351.424V277.333zm-271.36 213.334v64h-176.64v-64h176.64zm122.026-128v64H362.667v-64h298.666z",fill:"currentColor"})),Wr=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"M813.039 318.772L480.53 651.278H360.718V531.463L693.227 198.961C697.904 194.284 704.027 192 710.157 192C716.302 192 722.436 194.284 727.114 198.961L813.039 284.88C817.72 289.561 820 295.684 820 301.825C820 307.95 817.72 314.093 813.039 318.772ZM710.172 261.888L420.624 551.431V591.376H460.561L750.109 301.825L710.172 261.888ZM490.517 291.845H240.906V771.09H720.156V521.479C720.156 504.947 733.559 491.529 750.109 491.529C766.653 491.529 780.063 504.947 780.063 521.479V791.059C780.063 813.118 762.18 831 740.125 831H220.937C198.882 831 181 813.118 181 791.059V271.872C181 249.817 198.882 231.935 220.937 231.935H490.517C507.06 231.935 520.47 245.352 520.47 261.888C520.47 278.424 507.06 291.845 490.517 291.845Z",fill:"currentColor"})),Yr=()=>U("svg",{class:"verified-icon",viewBox:"0 0 1024 1024",width:"14",height:"14"},U("path",{d:"m894.4 461.56-54.4-63.2c-10.4-12-18.8-34.4-18.8-50.4v-68c0-42.4-34.8-77.2-77.2-77.2h-68c-15.6 0-38.4-8.4-50.4-18.8l-63.2-54.4c-27.6-23.6-72.8-23.6-100.8 0l-62.8 54.8c-12 10-34.8 18.4-50.4 18.4h-69.2c-42.4 0-77.2 34.8-77.2 77.2v68.4c0 15.6-8.4 38-18.4 50l-54 63.6c-23.2 27.6-23.2 72.4 0 100l54 63.6c10 12 18.4 34.4 18.4 50v68.4c0 42.4 34.8 77.2 77.2 77.2h69.2c15.6 0 38.4 8.4 50.4 18.8l63.2 54.4c27.6 23.6 72.8 23.6 100.8 0l63.2-54.4c12-10.4 34.4-18.8 50.4-18.8h68c42.4 0 77.2-34.8 77.2-77.2v-68c0-15.6 8.4-38.4 18.8-50.4l54.4-63.2c23.2-27.6 23.2-73.2-.4-100.8zm-216-25.2-193.2 193.2a30 30 0 0 1-42.4 0l-96.8-96.8a30.16 30.16 0 0 1 0-42.4c11.6-11.6 30.8-11.6 42.4 0l75.6 75.6 172-172c11.6-11.6 30.8-11.6 42.4 0 11.6 11.6 11.6 30.8 0 42.4z",fill:"#27ae60"})),gt=({size:n=100})=>U("svg",{width:n,height:n,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},U("circle",{cx:50,cy:50,fill:"none",stroke:"currentColor",strokeWidth:"4",r:"40","stroke-dasharray":"85 30"},U("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))),Zr=()=>U("svg",{width:24,height:24,fill:"currentcolor",viewBox:"0 0 24 24"},[U("path",{style:"transform: translateY(0.5px)",d:"M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"}),U("path",{d:"M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"})]),Gr=()=>ge("WALINE_USER_META",{nick:"",mail:"",link:""}),Kr=()=>ge("WALINE_COMMENT_BOX_EDITOR",""),Qr="WALINE_LIKE";let ul=null;const Ra=()=>ul??(ul=ge(Qr,[])),Xr="WALINE_REACTION";let dl=null;const Jr=()=>dl??(dl=ge(Xr,{})),ml={},es=n=>{const e=ml[n]??(ml[n]=Mn.load(n,{useRecaptchaNet:!0,autoHideBadge:!0}));return{execute:t=>e.then(l=>l.execute(t))}},ts=n=>({execute:async e=>{const{load:t}=Nt("https://challenges.cloudflare.com/turnstile/v0/api.js",void 0,{async:!1});await t();const l=window==null?void 0:window.turnstile;return new Promise(a=>{l==null||l.ready(()=>{l==null||l.render(".wl-captcha-container",{sitekey:n,action:e,size:"compact",callback:a})})})}}),ns="WALINE_USER";let pl=null;const jn=()=>pl??(pl=ge(ns,{})),ls={key:0,class:"wl-reaction"},as=["textContent"],os={class:"wl-reaction-list"},is=["onClick"],rs={class:"wl-reaction-img"},ss=["src","alt"],cs=["textContent"],us=["textContent"];var ds=ie({__name:"ArticleReaction",setup(n,{expose:e}){e();const t=Jr(),l=Je("config"),a=T(-1),o=T([]),i=D(()=>l.value.locale),r=D(()=>l.value.reaction.length>0),s=D(()=>{const{reaction:d,path:_}=l.value;return d.map((C,x)=>({icon:C,desc:i.value[`reaction${x}`],active:t.value[_]===x}))});let u;const c=async()=>{if(!r.value)return;const{serverURL:d,lang:_,path:C,reaction:x}=l.value,w=new AbortController;u=w.abort.bind(w);const p=await Cn({serverURL:d,lang:_,paths:[C],type:x.map((k,O)=>`reaction${O}`),signal:w.signal});o.value=x.map((k,O)=>p[0][`reaction${O}`])},$=async d=>{if(a.value===-1){const{serverURL:_,lang:C,path:x}=l.value,w=t.value[x];a.value=d,w!==void 0&&(await vt({serverURL:_,lang:C,path:x,type:`reaction${w}`,action:"desc"}),o.value[w]=Math.max(o.value[w]-1,0)),w!==d&&(await vt({serverURL:_,lang:C,path:x,type:`reaction${d}`}),o.value[d]=(o.value[d]||0)+1),w===d?delete t.value[x]:t.value[x]=d,a.value=-1}};return fe(()=>{me(()=>[l.value.serverURL,l.value.path],()=>{c()},{immediate:!0})}),Ke(()=>u==null?void 0:u()),(d,_)=>s.value.length?(m(),v("div",ls,[f("div",{class:"wl-reaction-title",textContent:M(i.value.reactionTitle)},null,8,as),f("ul",os,[(m(!0),v(K,null,ae(s.value,({active:C,icon:x,desc:w},p)=>(m(),v("li",{key:p,class:Z(["wl-reaction-item",{active:C}]),onClick:k=>$(p)},[f("div",rs,[f("img",{src:x,alt:w},null,8,ss),a.value===p?(m(),ee(b(gt),{key:0,class:"wl-reaction-loading"})):(m(),v("div",{key:1,class:"wl-reaction-votes",textContent:M(o.value[p]||0)},null,8,cs))]),f("div",{class:"wl-reaction-text",textContent:M(w)},null,8,us)],10,is))),128))])])):I("v-if",!0)}}),Lt=(n,e)=>{const t=n.__vccOpts||n;for(const[l,a]of e)t[l]=a;return t},ms=Lt(ds,[["__file","ArticleReaction.vue"]]);const ps=["data-index"],hs=["src","title","onClick"];var fs=ie({__name:"ImageWall",props:{items:{default:()=>[]},columnWidth:{default:300},gap:{default:0}},emits:["insert"],setup(n,{expose:e}){const t=n;e();let l=null;const a=T(null),o=T({}),i=T([]),r=()=>{const d=Math.floor((a.value.getBoundingClientRect().width+t.gap)/(t.columnWidth+t.gap));return d>0?d:1},s=d=>new Array(d).fill(null).map(()=>[]),u=async d=>{var _;if(d>=t.items.length)return;await $n();const C=Array.from(((_=a.value)==null?void 0:_.children)??[]).reduce((x,w)=>w.getBoundingClientRect().height<x.getBoundingClientRect().height?w:x);i.value[Number(C.dataset.index)].push(d),await u(d+1)},c=async(d=!1)=>{if(i.value.length===r()&&!d)return;i.value=s(r());const _=window.scrollY;await u(0),window.scrollTo({top:_})},$=d=>{o.value[d.target.src]=!0};return fe(()=>{c(!0),l=new ResizeObserver(()=>{c()}),l.observe(a.value),me(()=>[t.items],()=>{o.value={},c(!0)}),me(()=>[t.columnWidth,t.gap],()=>{c()})}),Ql(()=>l.unobserve(a.value)),(d,_)=>(m(),v("div",{ref_key:"wall",ref:a,class:"wl-gallery",style:ht({gap:`${d.gap}px`})},[(m(!0),v(K,null,ae(i.value,(C,x)=>(m(),v("div",{key:x,class:"wl-gallery-column","data-index":x,style:ht({gap:`${d.gap}px`})},[(m(!0),v(K,null,ae(C,w=>(m(),v(K,{key:w},[o.value[d.items[w].src]?I("v-if",!0):(m(),ee(b(gt),{key:0,size:36,style:{margin:"20px auto"}})),f("img",{class:"wl-gallery-item",src:d.items[w].src,title:d.items[w].title,loading:"lazy",onLoad:$,onClick:p=>d.$emit("insert",`![](${d.items[w].src})`)},null,40,hs)],64))),128))],12,ps))),128))],4))}}),vs=Lt(fs,[["__file","ImageWall.vue"]]);const gs=n=>{try{n=decodeURI(n)}catch{}return n},Aa=(n="")=>n.replace(/\/$/u,""),Sa=n=>/^(https?:)?\/\//.test(n),ys=["nick","mail","link"],hl=n=>n.filter(e=>ys.includes(e)),fl=["//unpkg.com/@waline/emojis@1.1.0/weibo"],ks=["//unpkg.com/@waline/emojis/tieba/tieba_agree.png","//unpkg.com/@waline/emojis/tieba/tieba_look_down.png","//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png","//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png","//unpkg.com/@waline/emojis/tieba/tieba_awkward.png","//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"],ws=n=>new Promise((e,t)=>{if(n.size>128e3)return t(new Error("File too large! File size limit 128KB"));const l=new FileReader;l.readAsDataURL(n),l.onload=()=>{var a;return e(((a=l.result)==null?void 0:a.toString())??"")},l.onerror=t}),bs=n=>n===!0?'<p class="wl-tex">TeX is not available in preview</p>':'<span class="wl-tex">TeX is not available in preview</span>',$s=n=>{const e=async(t,l={})=>fetch(`https://api.giphy.com/v1/gifs/${t}?${new URLSearchParams({lang:n,limit:"20",rating:"g",api_key:"6CIMLkNMMOhRcXPoMCPkFy4Ybk2XUiMp",...l}).toString()}`).then(a=>a.json()).then(({data:a})=>a.map(o=>({title:o.title,src:o.images.downsized_medium.url})));return{search:t=>e("search",{q:t,offset:"0"}),default:()=>e("trending",{}),more:(t,l=0)=>e("search",{q:t,offset:l.toString()})}},_s=/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/,xs=/</,Cs=/(?:^|\s)\/\/(.+?)$/gm,Ls=/\/\*([\S\s]*?)\*\//gm,zs=new RegExp(`(${_s.source}|${xs.source})|((?:${Cs.source})|(?:${Ls.source}))`,"gmi"),vl=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"],nn={},Es=n=>{let e=0;return n.replace(zs,(t,l,a)=>{if(a)return`<span style="color: slategray">${a}</span>`;if(l==="<")return"&lt;";let o;nn[l]?o=nn[l]:(o=vl[e],nn[l]=o);const i=`<span style="color: #${o}">${l}</span>`;return e=++e%vl.length,i})},Is=["nick","nickError","mail","mailError","link","optional","placeholder","sofa","submit","like","cancelLike","reply","cancelReply","comment","refresh","more","preview","emoji","uploadImage","seconds","minutes","hours","days","now","uploading","login","logout","admin","sticky","word","wordHint","anonymous","level0","level1","level2","level3","level4","level5","gif","gifSearchPlaceholder","profile","approved","waiting","spam","unsticky","oldest","latest","hottest","reactionTitle"],Me=n=>Object.fromEntries(n.map((e,t)=>[Is[t],e]));var gl=Me(["NickName","NickName cannot be less than 3 bytes.","E-Mail","Please confirm your email address.","Website","Optional","Comment here...","No comment yet.","Submit","Like","Cancel like","Reply","Cancel reply","Comments","Refresh","Load More...","Preview","Emoji","Upload Image","seconds ago","minutes ago","hours ago","days ago","just now","Uploading","Login","logout","Admin","Sticky","Words",`Please input comments between $0 and $1 words!
 Current word number: $2`,"Anonymous","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Search GIF","Profile","Approved","Waiting","Spam","Unsticky","Oldest","Latest","Hottest","What do you think?"]),yl=Me(["Pseudo","Le pseudo ne peut pas faire moins de 3 octets.","E-mail","Veuillez confirmer votre adresse e-mail.","Site Web","Optionnel","Commentez ici...","Aucun commentaire pour l'instant.","Envoyer","J'aime","Annuler le j'aime","Répondre","Annuler la réponse","Commentaires","Actualiser","Charger plus...","Aperçu","Emoji","Télécharger une image","Il y a quelques secondes","Il y a quelques minutes","Il y a quelques heures","Il y a quelques jours","À l'instant","Téléchargement en cours","Connexion","Déconnexion","Admin","Épinglé","Mots",`Veuillez saisir des commentaires entre $0 et $1 mots !
 Nombre actuel de mots : $2`,"Anonyme","Nains","Hobbits","Ents","Mages","Elfes","Maïar","GIF","Rechercher un GIF","Profil","Approuvé","En attente","Indésirable","Détacher","Le plus ancien","Dernier","Le plus populaire","Qu'en pensez-vous ?"]),kl=Me(["ニックネーム","3バイト以上のニックネームをご入力ください.","メールアドレス","メールアドレスをご確認ください.","サイト","オプション","ここにコメント","コメントしましょう~","提出する","Like","Cancel like","返信する","キャンセル","コメント","更新","さらに読み込む","プレビュー","絵文字","画像をアップロード","秒前","分前","時間前","日前","たっだ今","アップロード","ログインする","ログアウト","管理者","トップに置く","ワード",`コメントは $0 から $1 ワードの間でなければなりません!
 現在の単語番号: $2`,"匿名","うえにん","なかにん","しもおし","特にしもおし","かげ","なぬし","GIF","探す GIF","個人情報","承認済み","待っている","スパム","べたつかない","逆順","正順","人気順","どう思いますか？"]),Rs=Me(["Apelido","Apelido não pode ser menor que 3 bytes.","E-Mail","Por favor, confirme seu endereço de e-mail.","Website","Opcional","Comente aqui...","Nenhum comentário, ainda.","Enviar","Like","Cancel like","Responder","Cancelar resposta","Comentários","Refrescar","Carregar Mais...","Visualizar","Emoji","Enviar Imagem","segundos atrás","minutos atrás","horas atrás","dias atrás","agora mesmo","Enviando","Entrar","Sair","Admin","Sticky","Palavras",`Favor enviar comentário com $0 a $1 palavras!
 Número de palavras atuais: $2`,"Anônimo","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Pesquisar GIF","informação pessoal","Aprovado","Espera","Spam","Unsticky","Mais velho","Mais recentes","Mais quente","O que você acha?"]),wl=Me(["Псевдоним","Никнейм не может быть меньше 3 байт.","Эл. адрес","Пожалуйста, подтвердите адрес вашей электронной почты.","Веб-сайт","Необязательный","Комментарий здесь...","Пока нет комментариев.","Отправить","Like","Cancel like","Отвечать","Отменить ответ","Комментарии","Обновить","Загрузи больше...","Превью","эмодзи","Загрузить изображение","секунд назад","несколько минут назад","несколько часов назад","дней назад","прямо сейчас","Загрузка","Авторизоваться","Выход из системы","Админ","Липкий","Слова",`Пожалуйста, введите комментарии от $0 до $1 слов!
Номер текущего слова: $2`,"Анонимный","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Поиск GIF","Персональные данные","Одобренный","Ожидающий","Спам","Нелипкий","самый старый","последний","самый горячий","Что вы думаете?"]),bl=Me(["Tên","Tên không được nhỏ hơn 3 ký tự.","E-Mail","Vui lòng xác nhập địa chỉ email của bạn.","Website","Tùy chọn","Hãy bình luận có văn hoá!","Chưa có bình luận","Gửi","Thích","Bỏ thích","Trả lời","Hủy bỏ","bình luận","Làm mới","Tải thêm...","Xem trước","Emoji","Tải lên hình ảnh","giây trước","phút trước","giờ trước","ngày trước","Vừa xong","Đang tải lên","Đăng nhập","đăng xuất","Quản trị viên","Dính","từ",`Bình luận phải có độ dài giữa $0 và $1 từ!
 Số từ hiện tại: $2`,"Vô danh","Người lùn","Người tí hon","Thần rừng","Pháp sư","Tiên tộc","Maiar","Ảnh GIF","Tìm kiếm ảnh GIF","thông tin cá nhân","Đã được phê duyệt","Đang chờ đợi","Thư rác","Không dính","lâu đời nhất","muộn nhất","nóng nhất","What do you think?"]),$l=Me(["昵称","昵称不能少于3个字符","邮箱","请填写正确的邮件地址","网址","可选","欢迎评论","来发评论吧~","提交","喜欢","取消喜欢","回复","取消回复","评论","刷新","加载更多...","预览","表情","上传图片","秒前","分钟前","小时前","天前","刚刚","正在上传","登录","退出","博主","置顶","字",`评论字数应在 $0 到 $1 字之间！
当前字数：$2`,"匿名","潜水","冒泡","吐槽","活跃","话痨","传说","表情包","搜索表情包","个人资料","通过","待审核","垃圾","取消置顶","按倒序","按正序","按热度","你认为这篇文章怎么样？"]),As=Me(["暱稱","暱稱不能少於3個字元","郵箱","請填寫正確的郵件地址","網址","可選","歡迎留言","來發留言吧~","送出","喜歡","取消喜歡","回覆","取消回覆","留言","重整","載入更多...","預覽","表情","上傳圖片","秒前","分鐘前","小時前","天前","剛剛","正在上傳","登入","登出","管理者","置頂","字",`留言字數應在 $0 到 $1 字之間！
目前字數：$2`,"匿名","潛水","冒泡","吐槽","活躍","多話","傳說","表情包","搜尋表情包","個人資料","通過","待審核","垃圾","取消置頂","最早","最新","熱門","你認為這篇文章怎麼樣？"]);const Ta="en-US",pn={zh:$l,"zh-cn":$l,"zh-tw":As,en:gl,"en-us":gl,fr:yl,"fr-fr":yl,jp:kl,"jp-jp":kl,"pt-br":Rs,ru:wl,"ru-ru":wl,vi:bl,"vi-vn":bl},Ss=n=>pn[n.toLowerCase()]||pn[Ta],Ts=n=>Object.keys(pn).includes(n.toLowerCase())?n:Ta,Ms=n=>{const e=Aa(n);return Sa(e)?e:`https://${e}`},js=n=>Array.isArray(n)?n:n?[0,n]:!1,ln=(n,e)=>typeof n=="function"?n:n===!1?!1:e,Hs=({serverURL:n,path:e=location.pathname,lang:t=typeof navigator>"u"?"en-US":navigator.language,locale:l,emoji:a=fl,meta:o=["nick","mail","link"],requiredMeta:i=[],dark:r=!1,pageSize:s=10,wordLimit:u,imageUploader:c,highlighter:$,texRenderer:d,copyright:_=!0,login:C="enable",search:x,reaction:w,recaptchaV3Key:p="",turnstileKey:k="",commentSorting:O="latest",...P})=>({serverURL:Ms(n),path:gs(e),lang:Ts(t),locale:{...Ss(t),...typeof l=="object"?l:{}},wordLimit:js(u),meta:hl(o),requiredMeta:hl(i),imageUploader:ln(c,ws),highlighter:ln($,Es),texRenderer:ln(d,bs),dark:r,emoji:typeof a=="boolean"?a?fl:[]:a,pageSize:s,login:C,copyright:_,search:x===!1?!1:typeof x=="object"?x:$s(t),recaptchaV3Key:p,turnstileKey:k,reaction:Array.isArray(w)?w:w===!0?ks:[],commentSorting:O,...P}),Hn=n=>typeof n=="string",an="{--waline-white:#000;--waline-light-grey:#666;--waline-dark-grey:#999;--waline-color:#888;--waline-bg-color:#1e1e1e;--waline-bg-color-light:#272727;--waline-bg-color-hover: #444;--waline-border-color:#333;--waline-disable-bg-color:#444;--waline-disable-color:#272727;--waline-bq-color:#272727;--waline-info-bg-color:#272727;--waline-info-color:#666}",Us=n=>Hn(n)?n==="auto"?`@media(prefers-color-scheme:dark){body${an}}`:`${n}${an}`:n===!0?`:root${an}`:"",on=(n,e)=>{let t=n.toString();for(;t.length<e;)t="0"+t;return t},Os=n=>{const e=on(n.getDate(),2),t=on(n.getMonth()+1,2);return`${on(n.getFullYear(),2)}-${t}-${e}`},Vs=(n,e,t)=>{if(!n)return"";const l=Hn(n)?new Date(n.indexOf(" ")!==-1?n.replace(/-/g,"/"):n):n,a=e.getTime()-l.getTime(),o=Math.floor(a/(24*3600*1e3));if(o===0){const i=a%864e5,r=Math.floor(i/(3600*1e3));if(r===0){const s=i%36e5,u=Math.floor(s/(60*1e3));if(u===0){const c=s%6e4;return`${Math.round(c/1e3)} ${t.seconds}`}return`${u} ${t.minutes}`}return`${r} ${t.hours}`}return o<0?t.now:o<8?`${o} ${t.days}`:Os(l)},Ns=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ds=n=>Ns.test(n),Ps=n=>!!/@[0-9]+\.[0-9]+\.[0-9]+/.test(n),Bs=n=>{const e=ge("WALINE_EMOJI",{}),t=Ps(n);if(t){const l=e.value[n];if(l)return Promise.resolve(l)}return fetch(`${n}/info.json`).then(l=>l.json()).then(l=>{const a={folder:n,...l};return t&&(e.value[n]=a),a})},_l=(n,e="",t="",l="")=>`${e?`${e}/`:""}${t}${n}${l?`.${l}`:""}`,Fs=n=>Promise.all(n.map(e=>Hn(e)?Bs(Aa(e)):Promise.resolve(e))).then(e=>{const t={tabs:[],map:{}};return e.forEach(l=>{const{name:a,folder:o,icon:i,prefix:r="",type:s,items:u}=l;t.tabs.push({name:a,icon:_l(i,o,r,s),items:u.map(c=>{const $=`${r}${c}`;return t.map[$]=_l(c,o,r,s),$})})}),t}),qs=n=>n.type.includes("image"),xl=n=>{const e=Array.from(n).find(qs);return e?e.getAsFile():null},Ws=/\$.*?\$/,Ys=/^\$(.*?)\$/,Zs=/^(?:\s{0,3})\$\$((?:[^\n]|\n[^\n])+?)\n{0,1}\$\$/,Gs=n=>[{name:"blockMath",level:"block",tokenizer(e){const t=Zs.exec(e);if(t!==null)return{type:"html",raw:t[0],text:n(!0,t[1])}}},{name:"inlineMath",level:"inline",start(e){const t=e.search(Ws);return t!==-1?t:e.length},tokenizer(e){const t=Ys.exec(e);if(t!==null)return{type:"html",raw:t[0],text:n(!1,t[1])}}}],Ma=(n="",e={})=>n.replace(/:(.+?):/g,(t,l)=>e[l]?`<img class="wl-emoji" src="${e[l]}" alt="${l}">`:t),Ks=(n,{emojiMap:e,highlighter:t,texRenderer:l})=>{const a=new Tn;if(a.setOptions({breaks:!0}),t&&a.use(La({highlight:t})),l){const o=Gs(l);a.use({extensions:o})}return a.parse(Ma(n,e))},Qs=n=>n.match(/[\w\d\s,.\u00C0-\u024F\u0400-\u04FF]+/giu),Xs=n=>n.match(/[\u4E00-\u9FD5]/gu),Js=n=>{var e,t;return(((e=Qs(n))==null?void 0:e.reduce((l,a)=>l+(["",",","."].includes(a.trim())?0:a.trim().split(/\s+/u).length),0))??0)+(((t=Xs(n))==null?void 0:t.length)??0)},ec=async()=>{if(!navigator)return"";const{userAgentData:n}=navigator;let e=navigator.userAgent;if(!n||n.platform!=="Windows")return e;const{platformVersion:t}=await n.getHighEntropyValues(["platformVersion"]);return t&&parseInt(t.split(".")[0])>=13&&(e=e.replace("Windows NT 10.0","Windows NT 11.0")),e},tc={class:"wl-comment"},nc={key:0,class:"wl-login-info"},lc={class:"wl-avatar"},ac=["title"],oc=["title"],ic=["src"],rc=["title","textContent"],sc={class:"wl-panel"},cc=["for","textContent"],uc=["id","onUpdate:modelValue","name","type"],dc=["placeholder"],mc={class:"wl-preview"},pc=f("hr",null,null,-1),hc=["innerHTML"],fc={class:"wl-footer"},vc={class:"wl-actions"},gc={href:"https://guides.github.com/features/mastering-markdown/",title:"Markdown Guide","aria-label":"Markdown is supported",class:"wl-action",target:"_blank",rel:"noopener noreferrer"},yc=["title"],kc=["title"],wc=["title"],bc=["title"],$c={class:"wl-info"},_c=f("div",{class:"wl-captcha-container"},null,-1),xc={class:"wl-text-number"},Cc={key:0},Lc=["textContent"],zc=["textContent"],Ec=["disabled"],Ic=["placeholder"],Rc={key:1,class:"wl-loading"},Ac={key:0,class:"wl-tab-wrapper"},Sc=["title","onClick"],Tc=["src","alt"],Mc={key:0,class:"wl-tabs"},jc=["onClick"],Hc=["src","alt","title"],Uc=["title"];var Oc=ie({__name:"CommentBox",props:{edit:{default:null},rootId:{default:""},replyId:{default:""},replyUser:{default:""}},emits:["log","cancelEdit","cancelReply","submit"],setup(n,{emit:e}){const t=n,l=e,a=Je("config"),o=Kr(),i=Gr(),r=jn(),s=T({}),u=T(null),c=T(null),$=T(null),d=T(null),_=T(null),C=T(null),x=T(null),w=T({tabs:[],map:{}}),p=T(0),k=T(!1),O=T(!1),P=T(!1),A=T(""),N=T(0),j=Xl({loading:!0,list:[]}),L=T(0),re=T(!1),te=T(""),Q=T(!1),V=T(!1),h=D(()=>a.value.locale),R=D(()=>{var y;return!!((y=r.value)!=null&&y.token)}),S=D(()=>a.value.imageUploader!==!1),H=y=>{const g=u.value,z=g.selectionStart,B=g.selectionEnd||0,E=g.scrollTop;o.value=g.value.substring(0,z)+y+g.value.substring(B,g.value.length),g.focus(),g.selectionStart=z+y.length,g.selectionEnd=z+y.length,g.scrollTop=E},F=y=>{const g=y.key;(y.ctrlKey||y.metaKey)&&g==="Enter"&&ye()},q=y=>{const g=`![${a.value.locale.uploading} ${y.name}]()`;return H(g),Q.value=!0,Promise.resolve().then(()=>a.value.imageUploader(y)).then(z=>{o.value=o.value.replace(g,`\r
![${y.name}](${z})`)}).catch(z=>{alert(z.message),o.value=o.value.replace(g,"")}).then(()=>{Q.value=!1})},J=y=>{var g;if((g=y.dataTransfer)!=null&&g.items){const z=xl(y.dataTransfer.items);z&&S.value&&(q(z),y.preventDefault())}},ce=y=>{if(y.clipboardData){const g=xl(y.clipboardData.items);g&&S.value&&q(g)}},Le=()=>{const y=c.value;y.files&&S.value&&q(y.files[0]).then(()=>{y.value=""})},ye=async()=>{var y,g,z,B,E,X;const{serverURL:Y,lang:se,login:we,wordLimit:Ie,requiredMeta:ot,recaptchaV3Key:it,turnstileKey:rt}=a.value,en=await ec(),G={comment:te.value,nick:i.value.nick,mail:i.value.mail,link:i.value.link,url:a.value.path,ua:en};if((y=r.value)!=null&&y.token&&!t.edit)G.nick=r.value.display_name,G.mail=r.value.email,G.link=r.value.url;else{if(we==="force")return;if(ot.indexOf("nick")>-1&&!G.nick)return(g=s.value.nick)==null||g.focus(),alert(h.value.nickError);if(ot.indexOf("mail")>-1&&!G.mail||G.mail&&!Ds(G.mail))return(z=s.value.mail)==null||z.focus(),alert(h.value.mailError);G.nick||(G.nick=h.value.anonymous)}if(!G.comment){(B=u.value)==null||B.focus();return}if(!re.value)return alert(h.value.wordHint.replace("$0",Ie[0].toString()).replace("$1",Ie[1].toString()).replace("$2",N.value.toString()));G.comment=Ma(G.comment,w.value.map),t.replyId&&t.rootId&&(G.pid=t.replyId,G.rid=t.rootId,G.at=t.replyUser),Q.value=!0;try{it&&(G.recaptchaV3=await es(it).execute("social")),rt&&(G.turnstile=await ts(rt).execute("social"));const ze={serverURL:Y,lang:se,token:(E=r.value)==null?void 0:E.token,comment:G},Ve=await(t.edit?Se({objectId:t.edit.objectId,...ze}):ma(ze));if(Q.value=!1,Ve.errmsg)return alert(Ve.errmsg);l("submit",Ve.data),o.value="",A.value="",t.replyId&&l("cancelReply"),(X=t.edit)!=null&&X.objectId&&l("cancelEdit")}catch(ze){Q.value=!1,alert(ze.message)}},nt=y=>{y.preventDefault();const{lang:g,serverURL:z}=a.value;ha({serverURL:z,lang:g}).then(B=>{r.value=B,(B.remember?localStorage:sessionStorage).setItem("WALINE_USER",JSON.stringify(B)),l("log")})},lt=()=>{r.value={},localStorage.setItem("WALINE_USER","null"),sessionStorage.setItem("WALINE_USER","null"),l("log")},ke=y=>{y.preventDefault();const{lang:g,serverURL:z}=a.value,B=800,E=800,X=(window.innerWidth-B)/2,Y=(window.innerHeight-E)/2,se=new URLSearchParams({lng:g,token:r.value.token}),we=window.open(`${z}/ui/profile?${se.toString()}`,"_blank",`width=${B},height=${E},left=${X},top=${Y},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);we==null||we.postMessage({type:"TOKEN",data:r.value.token},"*")},at=y=>{var g,z,B,E;!((g=$.value)!=null&&g.contains(y.target))&&!((z=d.value)!=null&&z.contains(y.target))&&(k.value=!1),!((B=_.value)!=null&&B.contains(y.target))&&!((E=C.value)!=null&&E.contains(y.target))&&(O.value=!1)},Oe=async y=>{var g;const{scrollTop:z,clientHeight:B,scrollHeight:E}=y.target,X=(B+z)/E,Y=a.value.search,se=((g=x.value)==null?void 0:g.value)??"";X<.9||j.loading||V.value||(j.loading=!0,(Y.more&&j.list.length?await Y.more(se,j.list.length):await Y.search(se)).length?j.list=[...j.list,...Y.more&&j.list.length?await Y.more(se,j.list.length):await Y.search(se)]:V.value=!0,j.loading=!1,setTimeout(()=>{y.target.scrollTop=z},50))},be=Jl(y=>{j.list=[],V.value=!1,Oe(y)},300);return me([a,N],([y,g])=>{const{wordLimit:z}=y;z?g<z[0]&&z[0]!==0?(L.value=z[0],re.value=!1):g>z[1]?(L.value=z[1],re.value=!1):(L.value=z[1],re.value=!0):(L.value=0,re.value=!0)},{immediate:!0}),ft("click",at),ft("message",({data:y})=>{!y||y.type!=="profile"||(r.value={...r.value,...y.data},[localStorage,sessionStorage].filter(g=>g.getItem("WALINE_USER")).forEach(g=>g.setItem("WALINE_USER",JSON.stringify(r))))}),me(O,async y=>{var g;if(!y)return;const z=a.value.search;x.value&&(x.value.value=""),j.loading=!0,j.list=await(((g=z.default)==null?void 0:g.call(z))??z.search("")),j.loading=!1}),fe(()=>{var y;(y=t.edit)!=null&&y.objectId&&(o.value=t.edit.orig),me(()=>o.value,g=>{const{highlighter:z,texRenderer:B}=a.value;te.value=g,A.value=Ks(g,{emojiMap:w.value.map,highlighter:z,texRenderer:B}),N.value=Js(g),g?Pt(u.value):Pt.destroy(u.value)},{immediate:!0}),me(()=>a.value.emoji,g=>Fs(g).then(z=>{w.value=z}),{immediate:!0})}),(y,g)=>{var z,B;return m(),v("div",tc,[b(a).login!=="disable"&&R.value&&!((z=y.edit)!=null&&z.objectId)?(m(),v("div",nc,[f("div",lc,[f("button",{type:"submit",class:"wl-logout-btn",title:h.value.logout,onClick:lt},[W(b(cl),{size:14})],8,ac),f("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:h.value.profile,onClick:ke},[f("img",{src:b(r).avatar,alt:"avatar"},null,8,ic)],8,oc)]),f("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:h.value.profile,onClick:ke,textContent:M(b(r).display_name)},null,8,rc)])):I("v-if",!0),f("div",sc,[b(a).login!=="force"&&b(a).meta.length&&!R.value?(m(),v("div",{key:0,class:Z(["wl-header",`item${b(a).meta.length}`])},[(m(!0),v(K,null,ae(b(a).meta,E=>(m(),v("div",{key:E,class:"wl-header-item"},[f("label",{for:`wl-${E}`,textContent:M(h.value[E]+(b(a).requiredMeta.includes(E)||!b(a).requiredMeta.length?"":`(${h.value.optional})`))},null,8,cc),_e(f("input",{id:`wl-${E}`,ref_for:!0,ref:X=>{X&&(s.value[E]=X)},"onUpdate:modelValue":X=>b(i)[E]=X,class:Z(["wl-input",`wl-${E}`]),name:E,type:E==="mail"?"email":"text"},null,10,uc),[[ea,b(i)[E]]])]))),128))],2)):I("v-if",!0),_e(f("textarea",{id:"wl-edit",ref_key:"editorRef",ref:u,"onUpdate:modelValue":g[0]||(g[0]=E=>na(o)?o.value=E:null),class:"wl-editor",placeholder:y.replyUser?`@${y.replyUser}`:h.value.placeholder,onKeydown:F,onDrop:J,onPaste:ce},null,40,dc),[[ta,b(o)]]),_e(f("div",mc,[pc,f("h4",null,M(h.value.preview)+":",1),f("div",{class:"wl-content",innerHTML:A.value},null,8,hc)],512),[[Ye,P.value]]),f("div",fc,[f("div",vc,[f("a",gc,[W(b(Fr))]),_e(f("button",{ref_key:"emojiButtonRef",ref:$,type:"button",class:Z(["wl-action",{active:k.value}]),title:h.value.emoji,onClick:g[1]||(g[1]=E=>k.value=!k.value)},[W(b(Nr))],10,yc),[[Ye,w.value.tabs.length]]),b(a).search?(m(),v("button",{key:0,ref_key:"gifButtonRef",ref:_,type:"button",class:Z(["wl-action",{active:O.value}]),title:h.value.gif,onClick:g[2]||(g[2]=E=>O.value=!O.value)},[W(b(Zr))],10,kc)):I("v-if",!0),f("input",{id:"wl-image-upload",ref_key:"imageUploadRef",ref:c,class:"upload",type:"file",accept:".png,.jpg,.jpeg,.webp,.bmp,.gif",onChange:Le},null,544),S.value?(m(),v("label",{key:1,for:"wl-image-upload",class:"wl-action",title:h.value.uploadImage},[W(b(Dr))],8,wc)):I("v-if",!0),f("button",{type:"button",class:Z(["wl-action",{active:P.value}]),title:h.value.preview,onClick:g[3]||(g[3]=E=>P.value=!P.value)},[W(b(Br))],10,bc)]),f("div",$c,[_c,f("div",xc,[pe(M(N.value)+" ",1),b(a).wordLimit?(m(),v("span",Cc,[pe("  /  "),f("span",{class:Z({illegal:!re.value}),textContent:M(L.value)},null,10,Lc)])):I("v-if",!0),pe("  "+M(h.value.word),1)]),b(a).login!=="disable"&&!R.value?(m(),v("button",{key:0,type:"button",class:"wl-btn",onClick:nt,textContent:M(h.value.login)},null,8,zc)):I("v-if",!0),b(a).login!=="force"||R.value?(m(),v("button",{key:1,type:"submit",class:"primary wl-btn",title:"Cmd|Ctrl + Enter",disabled:Q.value,onClick:ye},[Q.value?(m(),ee(b(gt),{key:0,size:16})):(m(),v(K,{key:1},[pe(M(h.value.submit),1)],64))],8,Ec)):I("v-if",!0)]),f("div",{ref_key:"gifPopupRef",ref:C,class:Z(["wl-gif-popup",{display:O.value}])},[f("input",{ref_key:"gifSearchInputRef",ref:x,type:"text",placeholder:h.value.gifSearchPlaceholder,onInput:g[4]||(g[4]=(...E)=>b(be)&&b(be)(...E))},null,40,Ic),j.list.length?(m(),ee(vs,{key:0,items:j.list,"column-width":200,gap:6,onInsert:g[5]||(g[5]=E=>H(E)),onScroll:Oe},null,8,["items"])):I("v-if",!0),j.loading?(m(),v("div",Rc,[W(b(gt),{size:30})])):I("v-if",!0)],2),f("div",{ref_key:"emojiPopupRef",ref:d,class:Z(["wl-emoji-popup",{display:k.value}])},[(m(!0),v(K,null,ae(w.value.tabs,(E,X)=>(m(),v(K,{key:E.name},[X===p.value?(m(),v("div",Ac,[(m(!0),v(K,null,ae(E.items,Y=>(m(),v("button",{key:Y,type:"button",title:Y,onClick:se=>H(`:${Y}:`)},[k.value?(m(),v("img",{key:0,class:"wl-emoji",src:w.value.map[Y],alt:Y,loading:"lazy",referrerPolicy:"no-referrer"},null,8,Tc)):I("v-if",!0)],8,Sc))),128))])):I("v-if",!0)],64))),128)),w.value.tabs.length>1?(m(),v("div",Mc,[(m(!0),v(K,null,ae(w.value.tabs,(E,X)=>(m(),v("button",{key:E.name,type:"button",class:Z(["wl-tab",{active:p.value===X}]),onClick:Y=>p.value=X},[f("img",{class:"wl-emoji",src:E.icon,alt:E.name,title:E.name,loading:"lazy",referrerPolicy:"no-referrer"},null,8,Hc)],10,jc))),128))])):I("v-if",!0)],2)])]),y.replyId||(B=y.edit)!=null&&B.objectId?(m(),v("button",{key:1,type:"button",class:"wl-close",title:h.value.cancelReply,onClick:g[6]||(g[6]=E=>y.replyId?l("cancelReply"):l("cancelEdit"))},[W(b(cl),{size:24})],8,Uc)):I("v-if",!0)])}}}),ja=Lt(Oc,[["__file","CommentBox.vue"]]);const Vc=["id"],Nc={class:"wl-user","aria-hidden":"true"},Dc=["src"],Pc={class:"wl-card"},Bc={class:"wl-head"},Fc=["href"],qc={key:1,class:"wl-nick"},Wc=["textContent"],Yc=["textContent"],Zc=["textContent"],Gc=["textContent"],Kc=["textContent"],Qc={class:"wl-comment-actions"},Xc=["title"],Jc=["title"],eu={class:"wl-meta","aria-hidden":"true"},tu=["data-value","textContent"],nu={key:0,class:"wl-content"},lu={key:0},au=["href"],ou=f("span",null,": ",-1),iu=["innerHTML"],ru={key:1,class:"wl-admin-actions"},su={class:"wl-comment-status"},cu=["disabled","onClick","textContent"],uu={key:3,class:"wl-quote"};var du=ie({__name:"CommentCard",props:{comment:{},edit:{default:null},rootId:{},reply:{default:null}},emits:["log","submit","delete","edit","like","status","sticky","reply"],setup(n,{emit:e}){const t=n,l=e,a=["approved","waiting","spam"],o=Je("config"),i=Ra(),r=la(),s=jn(),u=D(()=>o.value.locale),c=D(()=>{const{link:p}=t.comment;return p?Sa(p)?p:`https://${p}`:""}),$=D(()=>i.value.includes(t.comment.objectId)),d=D(()=>Vs(new Date(t.comment.time),r.value,u.value)),_=D(()=>s.value.type==="administrator"),C=D(()=>t.comment.user_id&&s.value.objectId===t.comment.user_id),x=D(()=>{var p;return t.comment.objectId===((p=t.reply)==null?void 0:p.objectId)}),w=D(()=>{var p;return t.comment.objectId===((p=t.edit)==null?void 0:p.objectId)});return(p,k)=>{var O;const P=Xe("CommentCard",!0);return m(),v("div",{id:p.comment.objectId,class:"wl-card-item"},[f("div",Nc,[p.comment.avatar?(m(),v("img",{key:0,class:"wl-user-avatar",src:p.comment.avatar},null,8,Dc)):I("v-if",!0),p.comment.type?(m(),ee(b(Yr),{key:1})):I("v-if",!0)]),f("div",Pc,[f("div",Bc,[c.value?(m(),v("a",{key:0,class:"wl-nick",href:c.value,target:"_blank",rel:"nofollow noopener noreferrer"},M(p.comment.nick),9,Fc)):(m(),v("span",qc,M(p.comment.nick),1)),p.comment.type==="administrator"?(m(),v("span",{key:2,class:"wl-badge",textContent:M(u.value.admin)},null,8,Wc)):I("v-if",!0),p.comment.label?(m(),v("span",{key:3,class:"wl-badge",textContent:M(p.comment.label)},null,8,Yc)):I("v-if",!0),p.comment.sticky?(m(),v("span",{key:4,class:"wl-badge",textContent:M(u.value.sticky)},null,8,Zc)):I("v-if",!0),typeof p.comment.level=="number"?(m(),v("span",{key:5,class:Z(`wl-badge level${p.comment.level}`),textContent:M(u.value[`level${p.comment.level}`]||`Level ${p.comment.level}`)},null,10,Gc)):I("v-if",!0),f("span",{class:"wl-time",textContent:M(d.value)},null,8,Kc),f("div",Qc,[_.value||C.value?(m(),v(K,{key:0},[f("button",{type:"button",class:"wl-edit",onClick:k[0]||(k[0]=A=>l("edit",p.comment))},[W(b(Wr))]),f("button",{type:"button",class:"wl-delete",onClick:k[1]||(k[1]=A=>l("delete",p.comment))},[W(b(Vr))])],64)):I("v-if",!0),f("button",{type:"button",class:"wl-like",title:$.value?u.value.cancelLike:u.value.like,onClick:k[2]||(k[2]=A=>l("like",p.comment))},[W(b(Pr),{active:$.value},null,8,["active"]),pe(" "+M("like"in p.comment?p.comment.like:""),1)],8,Xc),f("button",{type:"button",class:Z(["wl-reply",{active:x.value}]),title:x.value?u.value.cancelReply:u.value.reply,onClick:k[3]||(k[3]=A=>l("reply",x.value?null:p.comment))},[W(b(qr))],10,Jc)])]),f("div",eu,[(m(),v(K,null,ae(["addr","browser","os"],A=>(m(),v(K,null,[p.comment[A]?(m(),v("span",{key:A,class:Z(`wl-${A}`),"data-value":p.comment[A],textContent:M(p.comment[A])},null,10,tu)):I("v-if",!0)],64))),64))]),w.value?I("v-if",!0):(m(),v("div",nu,[p.comment.reply_user?(m(),v("p",lu,[f("a",{href:"#"+p.comment.pid},"@"+M(p.comment.reply_user.nick),9,au),ou])):I("v-if",!0),f("div",{innerHTML:p.comment.comment},null,8,iu)])),_.value&&!w.value?(m(),v("div",ru,[f("span",su,[(m(),v(K,null,ae(a,A=>f("button",{key:A,type:"submit",class:Z(`wl-btn wl-${A}`),disabled:p.comment.status===A,onClick:N=>l("status",{status:A,comment:p.comment}),textContent:M(u.value[A])},null,10,cu)),64))]),_.value&&!("rid"in p.comment)?(m(),v("button",{key:0,type:"submit",class:"wl-btn wl-sticky",onClick:k[4]||(k[4]=A=>l("sticky",p.comment))},M(p.comment.sticky?u.value.unsticky:u.value.sticky),1)):I("v-if",!0)])):I("v-if",!0),x.value||w.value?(m(),v("div",{key:2,class:Z({"wl-reply-wrapper":x.value,"wl-edit-wrapper":w.value})},[W(ja,{edit:p.edit,"reply-id":(O=p.reply)==null?void 0:O.objectId,"reply-user":p.comment.nick,"root-id":p.rootId,onLog:k[5]||(k[5]=A=>l("log")),onCancelReply:k[6]||(k[6]=A=>l("reply",null)),onCancelEdit:k[7]||(k[7]=A=>l("edit",null)),onSubmit:k[8]||(k[8]=A=>l("submit",A))},null,8,["edit","reply-id","reply-user","root-id"])],2)):I("v-if",!0),"children"in p.comment?(m(),v("div",uu,[(m(!0),v(K,null,ae(p.comment.children,A=>(m(),ee(P,{key:A.objectId,comment:A,reply:p.reply,edit:p.edit,"root-id":p.rootId,onLog:k[9]||(k[9]=N=>l("log")),onDelete:k[10]||(k[10]=N=>l("delete",N)),onEdit:k[11]||(k[11]=N=>l("edit",N)),onLike:k[12]||(k[12]=N=>l("like",N)),onReply:k[13]||(k[13]=N=>l("reply",N)),onStatus:k[14]||(k[14]=N=>l("status",N)),onSticky:k[15]||(k[15]=N=>l("sticky",N)),onSubmit:k[16]||(k[16]=N=>l("submit",N))},null,8,["comment","reply","edit","root-id"]))),128))])):I("v-if",!0)])],8,Vc)}}}),mu=Lt(du,[["__file","CommentCard.vue"]]);const pu="3.2.0",hu={"data-waline":""},fu={class:"wl-meta-head"},vu={class:"wl-count"},gu=["textContent"],yu={class:"wl-sort"},ku=["onClick"],wu={class:"wl-cards"},bu={key:1,class:"wl-operation"},$u=["textContent"],_u={key:2,class:"wl-loading"},xu=["textContent"],Cu={key:4,class:"wl-operation"},Lu=["textContent"],zu={key:5,class:"wl-power"},Eu=f("a",{href:"https://github.com/walinejs/waline",target:"_blank",rel:"noopener noreferrer"}," Waline ",-1);var Iu=ie({__name:"WalineComment",props:["serverURL","path","meta","requiredMeta","dark","commentSorting","lang","locale","pageSize","wordLimit","emoji","login","highlighter","texRenderer","imageUploader","search","copyright","recaptchaV3Key","turnstileKey","reaction"],setup(n){const e=n,t={latest:"insertedAt_desc",oldest:"insertedAt_asc",hottest:"like_desc"},l=Object.keys(t),a=jn(),o=Ra(),i=T("loading"),r=T(0),s=T(1),u=T(0),c=D(()=>Hs(e)),$=T(c.value.commentSorting),d=T([]),_=T(null),C=T(null),x=D(()=>Us(c.value.dark)),w=D(()=>c.value.locale);aa(x,{id:"waline-darkmode"});let p;const k=h=>{var R;const{serverURL:S,path:H,pageSize:F}=c.value,q=new AbortController;i.value="loading",p==null||p(),da({serverURL:S,lang:c.value.lang,path:H,pageSize:F,sortBy:t[$.value],page:h,signal:q.signal,token:(R=a.value)==null?void 0:R.token}).then(J=>{i.value="success",r.value=J.count,d.value.push(...J.data),s.value=h,u.value=J.totalPages}).catch(J=>{J.name!=="AbortError"&&(console.error(J.message),i.value="error")}),p=q.abort.bind(q)},O=()=>k(s.value+1),P=()=>{r.value=0,d.value=[],k(1)},A=h=>{$.value!==h&&($.value=h,P())},N=h=>{_.value=h},j=h=>{C.value=h},L=h=>{if(C.value)C.value.comment=h.comment,C.value.orig=h.orig;else if("rid"in h){const R=d.value.find(({objectId:S})=>S===h.rid);if(!R)return;Array.isArray(R.children)||(R.children=[]),R.children.push(h)}else d.value.unshift(h),r.value+=1},re=async({comment:h,status:R})=>{var S;if(h.status===R)return;const{serverURL:H,lang:F}=c.value;await Se({serverURL:H,lang:F,token:(S=a.value)==null?void 0:S.token,objectId:h.objectId,comment:{status:R}}),h.status=R},te=async h=>{var R;if("rid"in h)return;const{serverURL:S,lang:H}=c.value;await Se({serverURL:S,lang:H,token:(R=a.value)==null?void 0:R.token,objectId:h.objectId,comment:{sticky:h.sticky?0:1}}),h.sticky=!h.sticky},Q=async({objectId:h})=>{var R;if(!confirm("Are you sure you want to delete this comment?"))return;const{serverURL:S,lang:H}=c.value;await pa({serverURL:S,lang:H,token:(R=a.value)==null?void 0:R.token,objectId:h}),d.value.some((F,q)=>F.objectId===h?(d.value=d.value.filter((J,ce)=>ce!==q),!0):F.children.some((J,ce)=>J.objectId===h?(d.value[q].children=F.children.filter((Le,ye)=>ye!==ce),!0):!1))},V=async h=>{var R;const{serverURL:S,lang:H}=c.value,{objectId:F}=h,q=o.value.includes(F);await Se({serverURL:S,lang:H,objectId:F,token:(R=a.value)==null?void 0:R.token,comment:{like:!q}}),q?o.value=o.value.filter(J=>J!==F):(o.value=[...o.value,F],o.value.length>50&&(o.value=o.value.slice(-50))),h.like=(h.like||0)+(q?-1:1)};return oa("config",c),fe(()=>{me(()=>[e.serverURL,e.path],()=>P(),{immediate:!0})}),Ke(()=>p==null?void 0:p()),(h,R)=>(m(),v("div",hu,[W(ms),_.value?I("v-if",!0):(m(),ee(ja,{key:0,onLog:P,onSubmit:L})),f("div",fu,[f("div",vu,[r.value?(m(),v("span",{key:0,class:"wl-num",textContent:M(r.value)},null,8,gu)):I("v-if",!0),pe(" "+M(w.value.comment),1)]),f("ul",yu,[(m(!0),v(K,null,ae(b(l),S=>(m(),v("li",{key:S,class:Z([S===$.value?"active":""]),onClick:H=>A(S)},M(w.value[S]),11,ku))),128))])]),f("div",wu,[(m(!0),v(K,null,ae(d.value,S=>(m(),ee(mu,{key:S.objectId,"root-id":S.objectId,comment:S,reply:_.value,edit:C.value,onLog:P,onReply:N,onEdit:j,onSubmit:L,onStatus:re,onDelete:Q,onSticky:te,onLike:V},null,8,["root-id","comment","reply","edit"]))),128))]),i.value==="error"?(m(),v("div",bu,[f("button",{type:"button",class:"wl-btn",onClick:P,textContent:M(w.value.refresh)},null,8,$u)])):i.value==="loading"?(m(),v("div",_u,[W(b(gt),{size:30})])):d.value.length?s.value<u.value?(m(),v("div",Cu,[f("button",{type:"button",class:"wl-btn",onClick:O,textContent:M(w.value.more)},null,8,Lu)])):I("v-if",!0):(m(),v("div",{key:3,class:"wl-empty",textContent:M(w.value.sofa)},null,8,xu)),c.value.copyright?(m(),v("div",zu,[pe(" Powered by "),Eu,pe(" v"+M(b(pu)),1)])):I("v-if",!0)]))}}),Ru=Lt(Iu,[["__file","WalineComment.vue"]]);const Au=["nick","mail","link"],Cl=n=>n.filter(e=>Au.includes(e)),Ll=["//unpkg.com/@waline/emojis@1.1.0/weibo"],Su=["//unpkg.com/@waline/emojis/tieba/tieba_agree.png","//unpkg.com/@waline/emojis/tieba/tieba_look_down.png","//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png","//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png","//unpkg.com/@waline/emojis/tieba/tieba_awkward.png","//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"],Tu=n=>new Promise((e,t)=>{if(n.size>128e3)return t(new Error("File too large! File size limit 128KB"));const l=new FileReader;l.readAsDataURL(n),l.onload=()=>{var a;return e(((a=l.result)==null?void 0:a.toString())??"")},l.onerror=t}),Mu=n=>n===!0?'<p class="wl-tex">TeX is not available in preview</p>':'<span class="wl-tex">TeX is not available in preview</span>',ju=n=>{const e=async(t,l={})=>fetch(`https://api.giphy.com/v1/gifs/${t}?${new URLSearchParams({lang:n,limit:"20",rating:"g",api_key:"6CIMLkNMMOhRcXPoMCPkFy4Ybk2XUiMp",...l}).toString()}`).then(a=>a.json()).then(({data:a})=>a.map(o=>({title:o.title,src:o.images.downsized_medium.url})));return{search:t=>e("search",{q:t,offset:"0"}),default:()=>e("trending",{}),more:(t,l=0)=>e("search",{q:t,offset:l.toString()})}},Hu=/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/,Uu=/</,Ou=/(?:^|\s)\/\/(.+?)$/gm,Vu=/\/\*([\S\s]*?)\*\//gm,Nu=new RegExp(`(${Hu.source}|${Uu.source})|((?:${Ou.source})|(?:${Vu.source}))`,"gmi"),zl=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"],rn={},Du=n=>{let e=0;return n.replace(Nu,(t,l,a)=>{if(a)return`<span style="color: slategray">${a}</span>`;if(l==="<")return"&lt;";let o;rn[l]?o=rn[l]:(o=zl[e],rn[l]=o);const i=`<span style="color: #${o}">${l}</span>`;return e=++e%zl.length,i})},Pu=["nick","nickError","mail","mailError","link","optional","placeholder","sofa","submit","like","cancelLike","reply","cancelReply","comment","refresh","more","preview","emoji","uploadImage","seconds","minutes","hours","days","now","uploading","login","logout","admin","sticky","word","wordHint","anonymous","level0","level1","level2","level3","level4","level5","gif","gifSearchPlaceholder","profile","approved","waiting","spam","unsticky","oldest","latest","hottest","reactionTitle"],je=n=>Object.fromEntries(n.map((e,t)=>[Pu[t],e]));var El=je(["NickName","NickName cannot be less than 3 bytes.","E-Mail","Please confirm your email address.","Website","Optional","Comment here...","No comment yet.","Submit","Like","Cancel like","Reply","Cancel reply","Comments","Refresh","Load More...","Preview","Emoji","Upload Image","seconds ago","minutes ago","hours ago","days ago","just now","Uploading","Login","logout","Admin","Sticky","Words",`Please input comments between $0 and $1 words!
 Current word number: $2`,"Anonymous","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Search GIF","Profile","Approved","Waiting","Spam","Unsticky","Oldest","Latest","Hottest","What do you think?"]),Il=je(["Pseudo","Le pseudo ne peut pas faire moins de 3 octets.","E-mail","Veuillez confirmer votre adresse e-mail.","Site Web","Optionnel","Commentez ici...","Aucun commentaire pour l'instant.","Envoyer","J'aime","Annuler le j'aime","Répondre","Annuler la réponse","Commentaires","Actualiser","Charger plus...","Aperçu","Emoji","Télécharger une image","Il y a quelques secondes","Il y a quelques minutes","Il y a quelques heures","Il y a quelques jours","À l'instant","Téléchargement en cours","Connexion","Déconnexion","Admin","Épinglé","Mots",`Veuillez saisir des commentaires entre $0 et $1 mots !
 Nombre actuel de mots : $2`,"Anonyme","Nains","Hobbits","Ents","Mages","Elfes","Maïar","GIF","Rechercher un GIF","Profil","Approuvé","En attente","Indésirable","Détacher","Le plus ancien","Dernier","Le plus populaire","Qu'en pensez-vous ?"]),Rl=je(["ニックネーム","3バイト以上のニックネームをご入力ください.","メールアドレス","メールアドレスをご確認ください.","サイト","オプション","ここにコメント","コメントしましょう~","提出する","Like","Cancel like","返信する","キャンセル","コメント","更新","さらに読み込む","プレビュー","絵文字","画像をアップロード","秒前","分前","時間前","日前","たっだ今","アップロード","ログインする","ログアウト","管理者","トップに置く","ワード",`コメントは $0 から $1 ワードの間でなければなりません!
 現在の単語番号: $2`,"匿名","うえにん","なかにん","しもおし","特にしもおし","かげ","なぬし","GIF","探す GIF","個人情報","承認済み","待っている","スパム","べたつかない","逆順","正順","人気順","どう思いますか？"]),Bu=je(["Apelido","Apelido não pode ser menor que 3 bytes.","E-Mail","Por favor, confirme seu endereço de e-mail.","Website","Opcional","Comente aqui...","Nenhum comentário, ainda.","Enviar","Like","Cancel like","Responder","Cancelar resposta","Comentários","Refrescar","Carregar Mais...","Visualizar","Emoji","Enviar Imagem","segundos atrás","minutos atrás","horas atrás","dias atrás","agora mesmo","Enviando","Entrar","Sair","Admin","Sticky","Palavras",`Favor enviar comentário com $0 a $1 palavras!
 Número de palavras atuais: $2`,"Anônimo","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Pesquisar GIF","informação pessoal","Aprovado","Espera","Spam","Unsticky","Mais velho","Mais recentes","Mais quente","O que você acha?"]),Al=je(["Псевдоним","Никнейм не может быть меньше 3 байт.","Эл. адрес","Пожалуйста, подтвердите адрес вашей электронной почты.","Веб-сайт","Необязательный","Комментарий здесь...","Пока нет комментариев.","Отправить","Like","Cancel like","Отвечать","Отменить ответ","Комментарии","Обновить","Загрузи больше...","Превью","эмодзи","Загрузить изображение","секунд назад","несколько минут назад","несколько часов назад","дней назад","прямо сейчас","Загрузка","Авторизоваться","Выход из системы","Админ","Липкий","Слова",`Пожалуйста, введите комментарии от $0 до $1 слов!
Номер текущего слова: $2`,"Анонимный","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Поиск GIF","Персональные данные","Одобренный","Ожидающий","Спам","Нелипкий","самый старый","последний","самый горячий","Что вы думаете?"]),Sl=je(["Tên","Tên không được nhỏ hơn 3 ký tự.","E-Mail","Vui lòng xác nhập địa chỉ email của bạn.","Website","Tùy chọn","Hãy bình luận có văn hoá!","Chưa có bình luận","Gửi","Thích","Bỏ thích","Trả lời","Hủy bỏ","bình luận","Làm mới","Tải thêm...","Xem trước","Emoji","Tải lên hình ảnh","giây trước","phút trước","giờ trước","ngày trước","Vừa xong","Đang tải lên","Đăng nhập","đăng xuất","Quản trị viên","Dính","từ",`Bình luận phải có độ dài giữa $0 và $1 từ!
 Số từ hiện tại: $2`,"Vô danh","Người lùn","Người tí hon","Thần rừng","Pháp sư","Tiên tộc","Maiar","Ảnh GIF","Tìm kiếm ảnh GIF","thông tin cá nhân","Đã được phê duyệt","Đang chờ đợi","Thư rác","Không dính","lâu đời nhất","muộn nhất","nóng nhất","What do you think?"]),Tl=je(["昵称","昵称不能少于3个字符","邮箱","请填写正确的邮件地址","网址","可选","欢迎评论","来发评论吧~","提交","喜欢","取消喜欢","回复","取消回复","评论","刷新","加载更多...","预览","表情","上传图片","秒前","分钟前","小时前","天前","刚刚","正在上传","登录","退出","博主","置顶","字",`评论字数应在 $0 到 $1 字之间！
当前字数：$2`,"匿名","潜水","冒泡","吐槽","活跃","话痨","传说","表情包","搜索表情包","个人资料","通过","待审核","垃圾","取消置顶","按倒序","按正序","按热度","你认为这篇文章怎么样？"]),Fu=je(["暱稱","暱稱不能少於3個字元","郵箱","請填寫正確的郵件地址","網址","可選","歡迎留言","來發留言吧~","送出","喜歡","取消喜歡","回覆","取消回覆","留言","重整","載入更多...","預覽","表情","上傳圖片","秒前","分鐘前","小時前","天前","剛剛","正在上傳","登入","登出","管理者","置頂","字",`留言字數應在 $0 到 $1 字之間！
目前字數：$2`,"匿名","潛水","冒泡","吐槽","活躍","多話","傳說","表情包","搜尋表情包","個人資料","通過","待審核","垃圾","取消置頂","最早","最新","熱門","你認為這篇文章怎麼樣？"]);const Ha="en-US",hn={zh:Tl,"zh-cn":Tl,"zh-tw":Fu,en:El,"en-us":El,fr:Il,"fr-fr":Il,jp:Rl,"jp-jp":Rl,"pt-br":Bu,ru:Al,"ru-ru":Al,vi:Sl,"vi-vn":Sl},qu=n=>hn[n.toLowerCase()]||hn[Ha],Wu=n=>Object.keys(hn).includes(n.toLowerCase())?n:Ha,Ua=n=>{try{n=decodeURI(n)}catch{}return n},Oa=(n="")=>n.replace(/\/$/u,""),Va=n=>/^(https?:)?\/\//.test(n),Wt=n=>{const e=Oa(n);return Va(e)?e:`https://${e}`},Yu=n=>Array.isArray(n)?n:n?[0,n]:!1,sn=(n,e)=>typeof n=="function"?n:n===!1?!1:e,Zu=({serverURL:n,path:e=location.pathname,lang:t=typeof navigator>"u"?"en-US":navigator.language,locale:l,emoji:a=Ll,meta:o=["nick","mail","link"],requiredMeta:i=[],dark:r=!1,pageSize:s=10,wordLimit:u,imageUploader:c,highlighter:$,texRenderer:d,copyright:_=!0,login:C="enable",search:x,reaction:w,recaptchaV3Key:p="",turnstileKey:k="",commentSorting:O="latest",...P})=>({serverURL:Wt(n),path:Ua(e),lang:Wu(t),locale:{...qu(t),...typeof l=="object"?l:{}},wordLimit:Yu(u),meta:Cl(o),requiredMeta:Cl(i),imageUploader:sn(c,Tu),highlighter:sn($,Du),texRenderer:sn(d,Mu),dark:r,emoji:typeof a=="boolean"?a?Ll:[]:a,pageSize:s,login:C,copyright:_,search:x===!1?!1:typeof x=="object"?x:ju(t),recaptchaV3Key:p,turnstileKey:k,reaction:Array.isArray(w)?w:w===!0?Su:[],commentSorting:O,...P}),Un=n=>typeof n=="string",cn="{--waline-white:#000;--waline-light-grey:#666;--waline-dark-grey:#999;--waline-color:#888;--waline-bg-color:#1e1e1e;--waline-bg-color-light:#272727;--waline-bg-color-hover: #444;--waline-border-color:#333;--waline-disable-bg-color:#444;--waline-disable-color:#272727;--waline-bq-color:#272727;--waline-info-bg-color:#272727;--waline-info-color:#666}",Gu=n=>Un(n)?n==="auto"?`@media(prefers-color-scheme:dark){body${cn}}`:`${n}${cn}`:n===!0?`:root${cn}`:"",un=(n,e)=>{let t=n.toString();for(;t.length<e;)t="0"+t;return t},Ku=n=>{const e=un(n.getDate(),2),t=un(n.getMonth()+1,2);return`${un(n.getFullYear(),2)}-${t}-${e}`},Qu=(n,e,t)=>{if(!n)return"";const l=Un(n)?new Date(n.indexOf(" ")!==-1?n.replace(/-/g,"/"):n):n,a=e.getTime()-l.getTime(),o=Math.floor(a/(24*3600*1e3));if(o===0){const i=a%864e5,r=Math.floor(i/(3600*1e3));if(r===0){const s=i%36e5,u=Math.floor(s/(60*1e3));if(u===0){const c=s%6e4;return`${Math.round(c/1e3)} ${t.seconds}`}return`${u} ${t.minutes}`}return`${r} ${t.hours}`}return o<0?t.now:o<8?`${o} ${t.days}`:Ku(l)},Xu=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ju=n=>Xu.test(n),ed=n=>!!/@[0-9]+\.[0-9]+\.[0-9]+/.test(n),td=n=>{const e=ge("WALINE_EMOJI",{}),t=ed(n);if(t){const l=e.value[n];if(l)return Promise.resolve(l)}return fetch(`${n}/info.json`).then(l=>l.json()).then(l=>{const a={folder:n,...l};return t&&(e.value[n]=a),a})},Ml=(n,e="",t="",l="")=>`${e?`${e}/`:""}${t}${n}${l?`.${l}`:""}`,nd=n=>Promise.all(n.map(e=>Un(e)?td(Oa(e)):Promise.resolve(e))).then(e=>{const t={tabs:[],map:{}};return e.forEach(l=>{const{name:a,folder:o,icon:i,prefix:r="",type:s,items:u}=l;t.tabs.push({name:a,icon:Ml(i,o,r,s),items:u.map(c=>{const $=`${r}${c}`;return t.map[$]=Ml(c,o,r,s),$})})}),t}),Na=n=>{n.name!=="AbortError"&&console.error(n.message)},ld=n=>n.type.includes("image"),jl=n=>{const e=Array.from(n).find(ld);return e?e.getAsFile():null},ad=/\$.*?\$/,od=/^\$(.*?)\$/,id=/^(?:\s{0,3})\$\$((?:[^\n]|\n[^\n])+?)\n{0,1}\$\$/,rd=n=>[{name:"blockMath",level:"block",tokenizer(e){const t=id.exec(e);if(t!==null)return{type:"html",raw:t[0],text:n(!0,t[1])}}},{name:"inlineMath",level:"inline",start(e){const t=e.search(ad);return t!==-1?t:e.length},tokenizer(e){const t=od.exec(e);if(t!==null)return{type:"html",raw:t[0],text:n(!1,t[1])}}}],Da=(n="",e={})=>n.replace(/:(.+?):/g,(t,l)=>e[l]?`<img class="wl-emoji" src="${e[l]}" alt="${l}">`:t),sd=(n,{emojiMap:e,highlighter:t,texRenderer:l})=>{const a=new Tn;if(a.setOptions({breaks:!0}),t&&a.use(La({highlight:t})),l){const o=rd(l);a.use({extensions:o})}return a.parse(Da(n,e))},fn=n=>n.dataset.path??null,cd=n=>n.match(/[\w\d\s,.\u00C0-\u024F\u0400-\u04FF]+/giu),ud=n=>n.match(/[\u4E00-\u9FD5]/gu),dd=n=>{var e,t;return(((e=cd(n))==null?void 0:e.reduce((l,a)=>l+(["",",","."].includes(a.trim())?0:a.trim().split(/\s+/u).length),0))??0)+(((t=ud(n))==null?void 0:t.length)??0)},md=async()=>{if(!navigator)return"";const{userAgentData:n}=navigator;let e=navigator.userAgent;if(!n||n.platform!=="Windows")return e;const{platformVersion:t}=await n.getHighEntropyValues(["platformVersion"]);return t&&parseInt(t.split(".")[0])>=13&&(e=e.replace("Windows NT 10.0","Windows NT 11.0")),e},pd=({serverURL:n,path:e=window.location.pathname,selector:t=".waline-comment-count",lang:l=navigator.language})=>{const a=new AbortController,o=document.querySelectorAll(t);return o.length&&Yi({serverURL:Wt(n),paths:Array.from(o).map(i=>Ua(fn(i)??e)),lang:l,signal:a.signal}).then(i=>{o.forEach((r,s)=>{r.innerText=i[s].toString()})}).catch(Na),a.abort.bind(a)},Hl=({size:n})=>U("svg",{class:"wl-close-icon",viewBox:"0 0 1024 1024",width:n,height:n},[U("path",{d:"M697.173 85.333h-369.92c-144.64 0-241.92 101.547-241.92 252.587v348.587c0 150.613 97.28 252.16 241.92 252.16h369.92c144.64 0 241.494-101.547 241.494-252.16V337.92c0-151.04-96.854-252.587-241.494-252.587z",fill:"currentColor"}),U("path",{d:"m640.683 587.52-75.947-75.861 75.904-75.862a37.29 37.29 0 0 0 0-52.778 37.205 37.205 0 0 0-52.779 0l-75.946 75.818-75.862-75.946a37.419 37.419 0 0 0-52.821 0 37.419 37.419 0 0 0 0 52.821l75.947 75.947-75.776 75.733a37.29 37.29 0 1 0 52.778 52.821l75.776-75.776 75.947 75.947a37.376 37.376 0 0 0 52.779-52.821z",fill:"#888"})]),hd=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"m341.013 394.667 27.755 393.45h271.83l27.733-393.45h64.106l-28.01 397.952a64 64 0 0 1-63.83 59.498H368.768a64 64 0 0 1-63.83-59.52l-28.053-397.93h64.128zm139.307 19.818v298.667h-64V414.485h64zm117.013 0v298.667h-64V414.485h64zM181.333 288h640v64h-640v-64zm453.483-106.667v64h-256v-64h256z",fill:"red"})),fd=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z",fill:"currentColor"})),vd=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[U("path",{d:"M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z",fill:"currentColor"}),U("path",{d:"M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z",fill:"currentColor"})]),gd=({active:n=!1})=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[U("path",{d:`M850.654 323.804c-11.042-25.625-26.862-48.532-46.885-68.225-20.022-19.61-43.258-34.936-69.213-45.73-26.78-11.124-55.124-16.727-84.375-16.727-40.622 0-80.256 11.123-114.698 32.135A214.79 214.79 0 0 0 512 241.819a214.79 214.79 0 0 0-23.483-16.562c-34.442-21.012-74.076-32.135-114.698-32.135-29.25 0-57.595 5.603-84.375 16.727-25.872 10.711-49.19 26.12-69.213 45.73-20.105 19.693-35.843 42.6-46.885 68.225-11.453 26.615-17.303 54.877-17.303 83.963 0 27.439 5.603 56.03 16.727 85.117 9.31 24.307 22.659 49.52 39.715 74.981 27.027 40.293 64.188 82.316 110.33 124.915 76.465 70.615 152.189 119.394 155.402 121.371l19.528 12.525c8.652 5.52 19.776 5.52 28.427 0l19.529-12.525c3.213-2.06 78.854-50.756 155.401-121.371 46.143-42.6 83.304-84.622 110.33-124.915 17.057-25.46 30.487-50.674 39.716-74.981 11.124-29.087 16.727-57.678 16.727-85.117.082-29.086-5.768-57.348-17.221-83.963z${n?"":"M512 761.5S218.665 573.55 218.665 407.767c0-83.963 69.461-152.023 155.154-152.023 60.233 0 112.473 33.618 138.181 82.727 25.708-49.109 77.948-82.727 138.18-82.727 85.694 0 155.155 68.06 155.155 152.023C805.335 573.551 512 761.5 512 761.5z"}`,fill:n?"red":"currentColor"})]),yd=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[U("path",{d:"M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0",fill:"currentColor"}),U("path",{d:"M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0",fill:"currentColor"})]),kd=()=>U("svg",{width:"16",height:"16",ariaHidden:"true"},U("path",{d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z",fill:"currentColor"})),wd=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"M810.667 213.333a64 64 0 0 1 64 64V704a64 64 0 0 1-64 64H478.336l-146.645 96.107a21.333 21.333 0 0 1-33.024-17.856V768h-85.334a64 64 0 0 1-64-64V277.333a64 64 0 0 1 64-64h597.334zm0 64H213.333V704h149.334v63.296L459.243 704h351.424V277.333zm-271.36 213.334v64h-176.64v-64h176.64zm122.026-128v64H362.667v-64h298.666z",fill:"currentColor"})),bd=()=>U("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},U("path",{d:"M813.039 318.772L480.53 651.278H360.718V531.463L693.227 198.961C697.904 194.284 704.027 192 710.157 192C716.302 192 722.436 194.284 727.114 198.961L813.039 284.88C817.72 289.561 820 295.684 820 301.825C820 307.95 817.72 314.093 813.039 318.772ZM710.172 261.888L420.624 551.431V591.376H460.561L750.109 301.825L710.172 261.888ZM490.517 291.845H240.906V771.09H720.156V521.479C720.156 504.947 733.559 491.529 750.109 491.529C766.653 491.529 780.063 504.947 780.063 521.479V791.059C780.063 813.118 762.18 831 740.125 831H220.937C198.882 831 181 813.118 181 791.059V271.872C181 249.817 198.882 231.935 220.937 231.935H490.517C507.06 231.935 520.47 245.352 520.47 261.888C520.47 278.424 507.06 291.845 490.517 291.845Z",fill:"currentColor"})),$d=()=>U("svg",{class:"verified-icon",viewBox:"0 0 1024 1024",width:"14",height:"14"},U("path",{d:"m894.4 461.56-54.4-63.2c-10.4-12-18.8-34.4-18.8-50.4v-68c0-42.4-34.8-77.2-77.2-77.2h-68c-15.6 0-38.4-8.4-50.4-18.8l-63.2-54.4c-27.6-23.6-72.8-23.6-100.8 0l-62.8 54.8c-12 10-34.8 18.4-50.4 18.4h-69.2c-42.4 0-77.2 34.8-77.2 77.2v68.4c0 15.6-8.4 38-18.4 50l-54 63.6c-23.2 27.6-23.2 72.4 0 100l54 63.6c10 12 18.4 34.4 18.4 50v68.4c0 42.4 34.8 77.2 77.2 77.2h69.2c15.6 0 38.4 8.4 50.4 18.8l63.2 54.4c27.6 23.6 72.8 23.6 100.8 0l63.2-54.4c12-10.4 34.4-18.8 50.4-18.8h68c42.4 0 77.2-34.8 77.2-77.2v-68c0-15.6 8.4-38.4 18.8-50.4l54.4-63.2c23.2-27.6 23.2-73.2-.4-100.8zm-216-25.2-193.2 193.2a30 30 0 0 1-42.4 0l-96.8-96.8a30.16 30.16 0 0 1 0-42.4c11.6-11.6 30.8-11.6 42.4 0l75.6 75.6 172-172c11.6-11.6 30.8-11.6 42.4 0 11.6 11.6 11.6 30.8 0 42.4z",fill:"#27ae60"})),yt=({size:n=100})=>U("svg",{width:n,height:n,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},U("circle",{cx:50,cy:50,fill:"none",stroke:"currentColor",strokeWidth:"4",r:"40","stroke-dasharray":"85 30"},U("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))),_d=()=>U("svg",{width:24,height:24,fill:"currentcolor",viewBox:"0 0 24 24"},[U("path",{style:"transform: translateY(0.5px)",d:"M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"}),U("path",{d:"M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"})]),xd=()=>ge("WALINE_USER_META",{nick:"",mail:"",link:""}),Cd=()=>ge("WALINE_COMMENT_BOX_EDITOR",""),Ld="WALINE_LIKE";let Ul=null;const Pa=()=>Ul??(Ul=ge(Ld,[])),zd="WALINE_REACTION";let Ol=null;const Ed=()=>Ol??(Ol=ge(zd,{})),Vl={},Id=n=>{const e=Vl[n]??(Vl[n]=Mn.load(n,{useRecaptchaNet:!0,autoHideBadge:!0}));return{execute:t=>e.then(l=>l.execute(t))}},Rd=n=>({execute:async e=>{const{load:t}=Nt("https://challenges.cloudflare.com/turnstile/v0/api.js",void 0,{async:!1});await t();const l=window==null?void 0:window.turnstile;return new Promise(a=>{l==null||l.ready(()=>{l==null||l.render(".wl-captcha-container",{sitekey:n,action:e,size:"compact",callback:a})})})}}),Ad="WALINE_USER";let Nl=null;const On=()=>Nl??(Nl=ge(Ad,{})),Sd={key:0,class:"wl-reaction"},Td=["textContent"],Md={class:"wl-reaction-list"},jd=["onClick"],Hd={class:"wl-reaction-img"},Ud=["src","alt"],Od=["textContent"],Vd=["textContent"];var Nd=ie({__name:"ArticleReaction",setup(n,{expose:e}){e();const t=Ed(),l=Je("config"),a=T(-1),o=T([]),i=D(()=>l.value.locale),r=D(()=>l.value.reaction.length>0),s=D(()=>{const{reaction:d,path:_}=l.value;return d.map((C,x)=>({icon:C,desc:i.value[`reaction${x}`],active:t.value[_]===x}))});let u;const c=async()=>{if(!r.value)return;const{serverURL:d,lang:_,path:C,reaction:x}=l.value,w=new AbortController;u=w.abort.bind(w);const p=await Cn({serverURL:d,lang:_,paths:[C],type:x.map((k,O)=>`reaction${O}`),signal:w.signal});o.value=x.map((k,O)=>p[0][`reaction${O}`])},$=async d=>{if(a.value===-1){const{serverURL:_,lang:C,path:x}=l.value,w=t.value[x];a.value=d,w!==void 0&&(await vt({serverURL:_,lang:C,path:x,type:`reaction${w}`,action:"desc"}),o.value[w]=Math.max(o.value[w]-1,0)),w!==d&&(await vt({serverURL:_,lang:C,path:x,type:`reaction${d}`}),o.value[d]=(o.value[d]||0)+1),w===d?delete t.value[x]:t.value[x]=d,a.value=-1}};return fe(()=>{me(()=>[l.value.serverURL,l.value.path],()=>{c()},{immediate:!0})}),Ke(()=>u==null?void 0:u()),(d,_)=>s.value.length?(m(),v("div",Sd,[f("div",{class:"wl-reaction-title",textContent:M(i.value.reactionTitle)},null,8,Td),f("ul",Md,[(m(!0),v(K,null,ae(s.value,({active:C,icon:x,desc:w},p)=>(m(),v("li",{key:p,class:Z(["wl-reaction-item",{active:C}]),onClick:k=>$(p)},[f("div",Hd,[f("img",{src:x,alt:w},null,8,Ud),a.value===p?(m(),ee(b(yt),{key:0,class:"wl-reaction-loading"})):(m(),v("div",{key:1,class:"wl-reaction-votes",textContent:M(o.value[p]||0)},null,8,Od))]),f("div",{class:"wl-reaction-text",textContent:M(w)},null,8,Vd)],10,jd))),128))])])):I("v-if",!0)}}),zt=(n,e)=>{const t=n.__vccOpts||n;for(const[l,a]of e)t[l]=a;return t},Dd=zt(Nd,[["__file","ArticleReaction.vue"]]);const Pd=["data-index"],Bd=["src","title","onClick"];var Fd=ie({__name:"ImageWall",props:{items:{default:()=>[]},columnWidth:{default:300},gap:{default:0}},emits:["insert"],setup(n,{expose:e}){const t=n;e();let l=null;const a=T(null),o=T({}),i=T([]),r=()=>{const d=Math.floor((a.value.getBoundingClientRect().width+t.gap)/(t.columnWidth+t.gap));return d>0?d:1},s=d=>new Array(d).fill(null).map(()=>[]),u=async d=>{var _;if(d>=t.items.length)return;await $n();const C=Array.from(((_=a.value)==null?void 0:_.children)??[]).reduce((x,w)=>w.getBoundingClientRect().height<x.getBoundingClientRect().height?w:x);i.value[Number(C.dataset.index)].push(d),await u(d+1)},c=async(d=!1)=>{if(i.value.length===r()&&!d)return;i.value=s(r());const _=window.scrollY;await u(0),window.scrollTo({top:_})},$=d=>{o.value[d.target.src]=!0};return fe(()=>{c(!0),l=new ResizeObserver(()=>{c()}),l.observe(a.value),me(()=>[t.items],()=>{o.value={},c(!0)}),me(()=>[t.columnWidth,t.gap],()=>{c()})}),Ql(()=>l.unobserve(a.value)),(d,_)=>(m(),v("div",{ref_key:"wall",ref:a,class:"wl-gallery",style:ht({gap:`${d.gap}px`})},[(m(!0),v(K,null,ae(i.value,(C,x)=>(m(),v("div",{key:x,class:"wl-gallery-column","data-index":x,style:ht({gap:`${d.gap}px`})},[(m(!0),v(K,null,ae(C,w=>(m(),v(K,{key:w},[o.value[d.items[w].src]?I("v-if",!0):(m(),ee(b(yt),{key:0,size:36,style:{margin:"20px auto"}})),f("img",{class:"wl-gallery-item",src:d.items[w].src,title:d.items[w].title,loading:"lazy",onLoad:$,onClick:p=>d.$emit("insert",`![](${d.items[w].src})`)},null,40,Bd)],64))),128))],12,Pd))),128))],4))}}),qd=zt(Fd,[["__file","ImageWall.vue"]]);const Wd={class:"wl-comment"},Yd={key:0,class:"wl-login-info"},Zd={class:"wl-avatar"},Gd=["title"],Kd=["title"],Qd=["src"],Xd=["title","textContent"],Jd={class:"wl-panel"},e1=["for","textContent"],t1=["id","onUpdate:modelValue","name","type"],n1=["placeholder"],l1={class:"wl-preview"},a1=f("hr",null,null,-1),o1=["innerHTML"],i1={class:"wl-footer"},r1={class:"wl-actions"},s1={href:"https://guides.github.com/features/mastering-markdown/",title:"Markdown Guide","aria-label":"Markdown is supported",class:"wl-action",target:"_blank",rel:"noopener noreferrer"},c1=["title"],u1=["title"],d1=["title"],m1=["title"],p1={class:"wl-info"},h1=f("div",{class:"wl-captcha-container"},null,-1),f1={class:"wl-text-number"},v1={key:0},g1=["textContent"],y1=["textContent"],k1=["disabled"],w1=["placeholder"],b1={key:1,class:"wl-loading"},$1={key:0,class:"wl-tab-wrapper"},_1=["title","onClick"],x1=["src","alt"],C1={key:0,class:"wl-tabs"},L1=["onClick"],z1=["src","alt","title"],E1=["title"];var I1=ie({__name:"CommentBox",props:{edit:{default:null},rootId:{default:""},replyId:{default:""},replyUser:{default:""}},emits:["log","cancelEdit","cancelReply","submit"],setup(n,{emit:e}){const t=n,l=e,a=Je("config"),o=Cd(),i=xd(),r=On(),s=T({}),u=T(null),c=T(null),$=T(null),d=T(null),_=T(null),C=T(null),x=T(null),w=T({tabs:[],map:{}}),p=T(0),k=T(!1),O=T(!1),P=T(!1),A=T(""),N=T(0),j=Xl({loading:!0,list:[]}),L=T(0),re=T(!1),te=T(""),Q=T(!1),V=T(!1),h=D(()=>a.value.locale),R=D(()=>{var y;return!!((y=r.value)!=null&&y.token)}),S=D(()=>a.value.imageUploader!==!1),H=y=>{const g=u.value,z=g.selectionStart,B=g.selectionEnd||0,E=g.scrollTop;o.value=g.value.substring(0,z)+y+g.value.substring(B,g.value.length),g.focus(),g.selectionStart=z+y.length,g.selectionEnd=z+y.length,g.scrollTop=E},F=y=>{const g=y.key;(y.ctrlKey||y.metaKey)&&g==="Enter"&&ye()},q=y=>{const g=`![${a.value.locale.uploading} ${y.name}]()`;return H(g),Q.value=!0,Promise.resolve().then(()=>a.value.imageUploader(y)).then(z=>{o.value=o.value.replace(g,`\r
![${y.name}](${z})`)}).catch(z=>{alert(z.message),o.value=o.value.replace(g,"")}).then(()=>{Q.value=!1})},J=y=>{var g;if((g=y.dataTransfer)!=null&&g.items){const z=jl(y.dataTransfer.items);z&&S.value&&(q(z),y.preventDefault())}},ce=y=>{if(y.clipboardData){const g=jl(y.clipboardData.items);g&&S.value&&q(g)}},Le=()=>{const y=c.value;y.files&&S.value&&q(y.files[0]).then(()=>{y.value=""})},ye=async()=>{var y,g,z,B,E,X;const{serverURL:Y,lang:se,login:we,wordLimit:Ie,requiredMeta:ot,recaptchaV3Key:it,turnstileKey:rt}=a.value,en=await md(),G={comment:te.value,nick:i.value.nick,mail:i.value.mail,link:i.value.link,url:a.value.path,ua:en};if((y=r.value)!=null&&y.token&&!t.edit)G.nick=r.value.display_name,G.mail=r.value.email,G.link=r.value.url;else{if(we==="force")return;if(ot.indexOf("nick")>-1&&!G.nick)return(g=s.value.nick)==null||g.focus(),alert(h.value.nickError);if(ot.indexOf("mail")>-1&&!G.mail||G.mail&&!Ju(G.mail))return(z=s.value.mail)==null||z.focus(),alert(h.value.mailError);G.nick||(G.nick=h.value.anonymous)}if(!G.comment){(B=u.value)==null||B.focus();return}if(!re.value)return alert(h.value.wordHint.replace("$0",Ie[0].toString()).replace("$1",Ie[1].toString()).replace("$2",N.value.toString()));G.comment=Da(G.comment,w.value.map),t.replyId&&t.rootId&&(G.pid=t.replyId,G.rid=t.rootId,G.at=t.replyUser),Q.value=!0;try{it&&(G.recaptchaV3=await Id(it).execute("social")),rt&&(G.turnstile=await Rd(rt).execute("social"));const ze={serverURL:Y,lang:se,token:(E=r.value)==null?void 0:E.token,comment:G},Ve=await(t.edit?Se({objectId:t.edit.objectId,...ze}):ma(ze));if(Q.value=!1,Ve.errmsg)return alert(Ve.errmsg);l("submit",Ve.data),o.value="",A.value="",t.replyId&&l("cancelReply"),(X=t.edit)!=null&&X.objectId&&l("cancelEdit")}catch(ze){Q.value=!1,alert(ze.message)}},nt=y=>{y.preventDefault();const{lang:g,serverURL:z}=a.value;ha({serverURL:z,lang:g}).then(B=>{r.value=B,(B.remember?localStorage:sessionStorage).setItem("WALINE_USER",JSON.stringify(B)),l("log")})},lt=()=>{r.value={},localStorage.setItem("WALINE_USER","null"),sessionStorage.setItem("WALINE_USER","null"),l("log")},ke=y=>{y.preventDefault();const{lang:g,serverURL:z}=a.value,B=800,E=800,X=(window.innerWidth-B)/2,Y=(window.innerHeight-E)/2,se=new URLSearchParams({lng:g,token:r.value.token}),we=window.open(`${z}/ui/profile?${se.toString()}`,"_blank",`width=${B},height=${E},left=${X},top=${Y},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);we==null||we.postMessage({type:"TOKEN",data:r.value.token},"*")},at=y=>{var g,z,B,E;!((g=$.value)!=null&&g.contains(y.target))&&!((z=d.value)!=null&&z.contains(y.target))&&(k.value=!1),!((B=_.value)!=null&&B.contains(y.target))&&!((E=C.value)!=null&&E.contains(y.target))&&(O.value=!1)},Oe=async y=>{var g;const{scrollTop:z,clientHeight:B,scrollHeight:E}=y.target,X=(B+z)/E,Y=a.value.search,se=((g=x.value)==null?void 0:g.value)??"";X<.9||j.loading||V.value||(j.loading=!0,(Y.more&&j.list.length?await Y.more(se,j.list.length):await Y.search(se)).length?j.list=[...j.list,...Y.more&&j.list.length?await Y.more(se,j.list.length):await Y.search(se)]:V.value=!0,j.loading=!1,setTimeout(()=>{y.target.scrollTop=z},50))},be=Jl(y=>{j.list=[],V.value=!1,Oe(y)},300);return me([a,N],([y,g])=>{const{wordLimit:z}=y;z?g<z[0]&&z[0]!==0?(L.value=z[0],re.value=!1):g>z[1]?(L.value=z[1],re.value=!1):(L.value=z[1],re.value=!0):(L.value=0,re.value=!0)},{immediate:!0}),ft("click",at),ft("message",({data:y})=>{!y||y.type!=="profile"||(r.value={...r.value,...y.data},[localStorage,sessionStorage].filter(g=>g.getItem("WALINE_USER")).forEach(g=>g.setItem("WALINE_USER",JSON.stringify(r))))}),me(O,async y=>{var g;if(!y)return;const z=a.value.search;x.value&&(x.value.value=""),j.loading=!0,j.list=await(((g=z.default)==null?void 0:g.call(z))??z.search("")),j.loading=!1}),fe(()=>{var y;(y=t.edit)!=null&&y.objectId&&(o.value=t.edit.orig),me(()=>o.value,g=>{const{highlighter:z,texRenderer:B}=a.value;te.value=g,A.value=sd(g,{emojiMap:w.value.map,highlighter:z,texRenderer:B}),N.value=dd(g),g?Pt(u.value):Pt.destroy(u.value)},{immediate:!0}),me(()=>a.value.emoji,g=>nd(g).then(z=>{w.value=z}),{immediate:!0})}),(y,g)=>{var z,B;return m(),v("div",Wd,[b(a).login!=="disable"&&R.value&&!((z=y.edit)!=null&&z.objectId)?(m(),v("div",Yd,[f("div",Zd,[f("button",{type:"submit",class:"wl-logout-btn",title:h.value.logout,onClick:lt},[W(b(Hl),{size:14})],8,Gd),f("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:h.value.profile,onClick:ke},[f("img",{src:b(r).avatar,alt:"avatar"},null,8,Qd)],8,Kd)]),f("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:h.value.profile,onClick:ke,textContent:M(b(r).display_name)},null,8,Xd)])):I("v-if",!0),f("div",Jd,[b(a).login!=="force"&&b(a).meta.length&&!R.value?(m(),v("div",{key:0,class:Z(["wl-header",`item${b(a).meta.length}`])},[(m(!0),v(K,null,ae(b(a).meta,E=>(m(),v("div",{key:E,class:"wl-header-item"},[f("label",{for:`wl-${E}`,textContent:M(h.value[E]+(b(a).requiredMeta.includes(E)||!b(a).requiredMeta.length?"":`(${h.value.optional})`))},null,8,e1),_e(f("input",{id:`wl-${E}`,ref_for:!0,ref:X=>{X&&(s.value[E]=X)},"onUpdate:modelValue":X=>b(i)[E]=X,class:Z(["wl-input",`wl-${E}`]),name:E,type:E==="mail"?"email":"text"},null,10,t1),[[ea,b(i)[E]]])]))),128))],2)):I("v-if",!0),_e(f("textarea",{id:"wl-edit",ref_key:"editorRef",ref:u,"onUpdate:modelValue":g[0]||(g[0]=E=>na(o)?o.value=E:null),class:"wl-editor",placeholder:y.replyUser?`@${y.replyUser}`:h.value.placeholder,onKeydown:F,onDrop:J,onPaste:ce},null,40,n1),[[ta,b(o)]]),_e(f("div",l1,[a1,f("h4",null,M(h.value.preview)+":",1),f("div",{class:"wl-content",innerHTML:A.value},null,8,o1)],512),[[Ye,P.value]]),f("div",i1,[f("div",r1,[f("a",s1,[W(b(kd))]),_e(f("button",{ref_key:"emojiButtonRef",ref:$,type:"button",class:Z(["wl-action",{active:k.value}]),title:h.value.emoji,onClick:g[1]||(g[1]=E=>k.value=!k.value)},[W(b(fd))],10,c1),[[Ye,w.value.tabs.length]]),b(a).search?(m(),v("button",{key:0,ref_key:"gifButtonRef",ref:_,type:"button",class:Z(["wl-action",{active:O.value}]),title:h.value.gif,onClick:g[2]||(g[2]=E=>O.value=!O.value)},[W(b(_d))],10,u1)):I("v-if",!0),f("input",{id:"wl-image-upload",ref_key:"imageUploadRef",ref:c,class:"upload",type:"file",accept:".png,.jpg,.jpeg,.webp,.bmp,.gif",onChange:Le},null,544),S.value?(m(),v("label",{key:1,for:"wl-image-upload",class:"wl-action",title:h.value.uploadImage},[W(b(vd))],8,d1)):I("v-if",!0),f("button",{type:"button",class:Z(["wl-action",{active:P.value}]),title:h.value.preview,onClick:g[3]||(g[3]=E=>P.value=!P.value)},[W(b(yd))],10,m1)]),f("div",p1,[h1,f("div",f1,[pe(M(N.value)+" ",1),b(a).wordLimit?(m(),v("span",v1,[pe("  /  "),f("span",{class:Z({illegal:!re.value}),textContent:M(L.value)},null,10,g1)])):I("v-if",!0),pe("  "+M(h.value.word),1)]),b(a).login!=="disable"&&!R.value?(m(),v("button",{key:0,type:"button",class:"wl-btn",onClick:nt,textContent:M(h.value.login)},null,8,y1)):I("v-if",!0),b(a).login!=="force"||R.value?(m(),v("button",{key:1,type:"submit",class:"primary wl-btn",title:"Cmd|Ctrl + Enter",disabled:Q.value,onClick:ye},[Q.value?(m(),ee(b(yt),{key:0,size:16})):(m(),v(K,{key:1},[pe(M(h.value.submit),1)],64))],8,k1)):I("v-if",!0)]),f("div",{ref_key:"gifPopupRef",ref:C,class:Z(["wl-gif-popup",{display:O.value}])},[f("input",{ref_key:"gifSearchInputRef",ref:x,type:"text",placeholder:h.value.gifSearchPlaceholder,onInput:g[4]||(g[4]=(...E)=>b(be)&&b(be)(...E))},null,40,w1),j.list.length?(m(),ee(qd,{key:0,items:j.list,"column-width":200,gap:6,onInsert:g[5]||(g[5]=E=>H(E)),onScroll:Oe},null,8,["items"])):I("v-if",!0),j.loading?(m(),v("div",b1,[W(b(yt),{size:30})])):I("v-if",!0)],2),f("div",{ref_key:"emojiPopupRef",ref:d,class:Z(["wl-emoji-popup",{display:k.value}])},[(m(!0),v(K,null,ae(w.value.tabs,(E,X)=>(m(),v(K,{key:E.name},[X===p.value?(m(),v("div",$1,[(m(!0),v(K,null,ae(E.items,Y=>(m(),v("button",{key:Y,type:"button",title:Y,onClick:se=>H(`:${Y}:`)},[k.value?(m(),v("img",{key:0,class:"wl-emoji",src:w.value.map[Y],alt:Y,loading:"lazy",referrerPolicy:"no-referrer"},null,8,x1)):I("v-if",!0)],8,_1))),128))])):I("v-if",!0)],64))),128)),w.value.tabs.length>1?(m(),v("div",C1,[(m(!0),v(K,null,ae(w.value.tabs,(E,X)=>(m(),v("button",{key:E.name,type:"button",class:Z(["wl-tab",{active:p.value===X}]),onClick:Y=>p.value=X},[f("img",{class:"wl-emoji",src:E.icon,alt:E.name,title:E.name,loading:"lazy",referrerPolicy:"no-referrer"},null,8,z1)],10,L1))),128))])):I("v-if",!0)],2)])]),y.replyId||(B=y.edit)!=null&&B.objectId?(m(),v("button",{key:1,type:"button",class:"wl-close",title:h.value.cancelReply,onClick:g[6]||(g[6]=E=>y.replyId?l("cancelReply"):l("cancelEdit"))},[W(b(Hl),{size:24})],8,E1)):I("v-if",!0)])}}}),Ba=zt(I1,[["__file","CommentBox.vue"]]);const R1=["id"],A1={class:"wl-user","aria-hidden":"true"},S1=["src"],T1={class:"wl-card"},M1={class:"wl-head"},j1=["href"],H1={key:1,class:"wl-nick"},U1=["textContent"],O1=["textContent"],V1=["textContent"],N1=["textContent"],D1=["textContent"],P1={class:"wl-comment-actions"},B1=["title"],F1=["title"],q1={class:"wl-meta","aria-hidden":"true"},W1=["data-value","textContent"],Y1={key:0,class:"wl-content"},Z1={key:0},G1=["href"],K1=f("span",null,": ",-1),Q1=["innerHTML"],X1={key:1,class:"wl-admin-actions"},J1={class:"wl-comment-status"},em=["disabled","onClick","textContent"],tm={key:3,class:"wl-quote"};var nm=ie({__name:"CommentCard",props:{comment:{},edit:{default:null},rootId:{},reply:{default:null}},emits:["log","submit","delete","edit","like","status","sticky","reply"],setup(n,{emit:e}){const t=n,l=e,a=["approved","waiting","spam"],o=Je("config"),i=Pa(),r=la(),s=On(),u=D(()=>o.value.locale),c=D(()=>{const{link:p}=t.comment;return p?Va(p)?p:`https://${p}`:""}),$=D(()=>i.value.includes(t.comment.objectId)),d=D(()=>Qu(new Date(t.comment.time),r.value,u.value)),_=D(()=>s.value.type==="administrator"),C=D(()=>t.comment.user_id&&s.value.objectId===t.comment.user_id),x=D(()=>{var p;return t.comment.objectId===((p=t.reply)==null?void 0:p.objectId)}),w=D(()=>{var p;return t.comment.objectId===((p=t.edit)==null?void 0:p.objectId)});return(p,k)=>{var O;const P=Xe("CommentCard",!0);return m(),v("div",{id:p.comment.objectId,class:"wl-card-item"},[f("div",A1,[p.comment.avatar?(m(),v("img",{key:0,class:"wl-user-avatar",src:p.comment.avatar},null,8,S1)):I("v-if",!0),p.comment.type?(m(),ee(b($d),{key:1})):I("v-if",!0)]),f("div",T1,[f("div",M1,[c.value?(m(),v("a",{key:0,class:"wl-nick",href:c.value,target:"_blank",rel:"nofollow noopener noreferrer"},M(p.comment.nick),9,j1)):(m(),v("span",H1,M(p.comment.nick),1)),p.comment.type==="administrator"?(m(),v("span",{key:2,class:"wl-badge",textContent:M(u.value.admin)},null,8,U1)):I("v-if",!0),p.comment.label?(m(),v("span",{key:3,class:"wl-badge",textContent:M(p.comment.label)},null,8,O1)):I("v-if",!0),p.comment.sticky?(m(),v("span",{key:4,class:"wl-badge",textContent:M(u.value.sticky)},null,8,V1)):I("v-if",!0),typeof p.comment.level=="number"?(m(),v("span",{key:5,class:Z(`wl-badge level${p.comment.level}`),textContent:M(u.value[`level${p.comment.level}`]||`Level ${p.comment.level}`)},null,10,N1)):I("v-if",!0),f("span",{class:"wl-time",textContent:M(d.value)},null,8,D1),f("div",P1,[_.value||C.value?(m(),v(K,{key:0},[f("button",{type:"button",class:"wl-edit",onClick:k[0]||(k[0]=A=>l("edit",p.comment))},[W(b(bd))]),f("button",{type:"button",class:"wl-delete",onClick:k[1]||(k[1]=A=>l("delete",p.comment))},[W(b(hd))])],64)):I("v-if",!0),f("button",{type:"button",class:"wl-like",title:$.value?u.value.cancelLike:u.value.like,onClick:k[2]||(k[2]=A=>l("like",p.comment))},[W(b(gd),{active:$.value},null,8,["active"]),pe(" "+M("like"in p.comment?p.comment.like:""),1)],8,B1),f("button",{type:"button",class:Z(["wl-reply",{active:x.value}]),title:x.value?u.value.cancelReply:u.value.reply,onClick:k[3]||(k[3]=A=>l("reply",x.value?null:p.comment))},[W(b(wd))],10,F1)])]),f("div",q1,[(m(),v(K,null,ae(["addr","browser","os"],A=>(m(),v(K,null,[p.comment[A]?(m(),v("span",{key:A,class:Z(`wl-${A}`),"data-value":p.comment[A],textContent:M(p.comment[A])},null,10,W1)):I("v-if",!0)],64))),64))]),w.value?I("v-if",!0):(m(),v("div",Y1,[p.comment.reply_user?(m(),v("p",Z1,[f("a",{href:"#"+p.comment.pid},"@"+M(p.comment.reply_user.nick),9,G1),K1])):I("v-if",!0),f("div",{innerHTML:p.comment.comment},null,8,Q1)])),_.value&&!w.value?(m(),v("div",X1,[f("span",J1,[(m(),v(K,null,ae(a,A=>f("button",{key:A,type:"submit",class:Z(`wl-btn wl-${A}`),disabled:p.comment.status===A,onClick:N=>l("status",{status:A,comment:p.comment}),textContent:M(u.value[A])},null,10,em)),64))]),_.value&&!("rid"in p.comment)?(m(),v("button",{key:0,type:"submit",class:"wl-btn wl-sticky",onClick:k[4]||(k[4]=A=>l("sticky",p.comment))},M(p.comment.sticky?u.value.unsticky:u.value.sticky),1)):I("v-if",!0)])):I("v-if",!0),x.value||w.value?(m(),v("div",{key:2,class:Z({"wl-reply-wrapper":x.value,"wl-edit-wrapper":w.value})},[W(Ba,{edit:p.edit,"reply-id":(O=p.reply)==null?void 0:O.objectId,"reply-user":p.comment.nick,"root-id":p.rootId,onLog:k[5]||(k[5]=A=>l("log")),onCancelReply:k[6]||(k[6]=A=>l("reply",null)),onCancelEdit:k[7]||(k[7]=A=>l("edit",null)),onSubmit:k[8]||(k[8]=A=>l("submit",A))},null,8,["edit","reply-id","reply-user","root-id"])],2)):I("v-if",!0),"children"in p.comment?(m(),v("div",tm,[(m(!0),v(K,null,ae(p.comment.children,A=>(m(),ee(P,{key:A.objectId,comment:A,reply:p.reply,edit:p.edit,"root-id":p.rootId,onLog:k[9]||(k[9]=N=>l("log")),onDelete:k[10]||(k[10]=N=>l("delete",N)),onEdit:k[11]||(k[11]=N=>l("edit",N)),onLike:k[12]||(k[12]=N=>l("like",N)),onReply:k[13]||(k[13]=N=>l("reply",N)),onStatus:k[14]||(k[14]=N=>l("status",N)),onSticky:k[15]||(k[15]=N=>l("sticky",N)),onSubmit:k[16]||(k[16]=N=>l("submit",N))},null,8,["comment","reply","edit","root-id"]))),128))])):I("v-if",!0)])],8,R1)}}}),lm=zt(nm,[["__file","CommentCard.vue"]]);const am="3.2.0",om={"data-waline":""},im={class:"wl-meta-head"},rm={class:"wl-count"},sm=["textContent"],cm={class:"wl-sort"},um=["onClick"],dm={class:"wl-cards"},mm={key:1,class:"wl-operation"},pm=["textContent"],hm={key:2,class:"wl-loading"},fm=["textContent"],vm={key:4,class:"wl-operation"},gm=["textContent"],ym={key:5,class:"wl-power"},km=f("a",{href:"https://github.com/walinejs/waline",target:"_blank",rel:"noopener noreferrer"}," Waline ",-1);var wm=ie({__name:"WalineComment",props:["serverURL","path","meta","requiredMeta","dark","commentSorting","lang","locale","pageSize","wordLimit","emoji","login","highlighter","texRenderer","imageUploader","search","copyright","recaptchaV3Key","turnstileKey","reaction"],setup(n){const e=n,t={latest:"insertedAt_desc",oldest:"insertedAt_asc",hottest:"like_desc"},l=Object.keys(t),a=On(),o=Pa(),i=T("loading"),r=T(0),s=T(1),u=T(0),c=D(()=>Zu(e)),$=T(c.value.commentSorting),d=T([]),_=T(null),C=T(null),x=D(()=>Gu(c.value.dark)),w=D(()=>c.value.locale);aa(x,{id:"waline-darkmode"});let p;const k=h=>{var R;const{serverURL:S,path:H,pageSize:F}=c.value,q=new AbortController;i.value="loading",p==null||p(),da({serverURL:S,lang:c.value.lang,path:H,pageSize:F,sortBy:t[$.value],page:h,signal:q.signal,token:(R=a.value)==null?void 0:R.token}).then(J=>{i.value="success",r.value=J.count,d.value.push(...J.data),s.value=h,u.value=J.totalPages}).catch(J=>{J.name!=="AbortError"&&(console.error(J.message),i.value="error")}),p=q.abort.bind(q)},O=()=>k(s.value+1),P=()=>{r.value=0,d.value=[],k(1)},A=h=>{$.value!==h&&($.value=h,P())},N=h=>{_.value=h},j=h=>{C.value=h},L=h=>{if(C.value)C.value.comment=h.comment,C.value.orig=h.orig;else if("rid"in h){const R=d.value.find(({objectId:S})=>S===h.rid);if(!R)return;Array.isArray(R.children)||(R.children=[]),R.children.push(h)}else d.value.unshift(h),r.value+=1},re=async({comment:h,status:R})=>{var S;if(h.status===R)return;const{serverURL:H,lang:F}=c.value;await Se({serverURL:H,lang:F,token:(S=a.value)==null?void 0:S.token,objectId:h.objectId,comment:{status:R}}),h.status=R},te=async h=>{var R;if("rid"in h)return;const{serverURL:S,lang:H}=c.value;await Se({serverURL:S,lang:H,token:(R=a.value)==null?void 0:R.token,objectId:h.objectId,comment:{sticky:h.sticky?0:1}}),h.sticky=!h.sticky},Q=async({objectId:h})=>{var R;if(!confirm("Are you sure you want to delete this comment?"))return;const{serverURL:S,lang:H}=c.value;await pa({serverURL:S,lang:H,token:(R=a.value)==null?void 0:R.token,objectId:h}),d.value.some((F,q)=>F.objectId===h?(d.value=d.value.filter((J,ce)=>ce!==q),!0):F.children.some((J,ce)=>J.objectId===h?(d.value[q].children=F.children.filter((Le,ye)=>ye!==ce),!0):!1))},V=async h=>{var R;const{serverURL:S,lang:H}=c.value,{objectId:F}=h,q=o.value.includes(F);await Se({serverURL:S,lang:H,objectId:F,token:(R=a.value)==null?void 0:R.token,comment:{like:!q}}),q?o.value=o.value.filter(J=>J!==F):(o.value=[...o.value,F],o.value.length>50&&(o.value=o.value.slice(-50))),h.like=(h.like||0)+(q?-1:1)};return oa("config",c),fe(()=>{me(()=>[e.serverURL,e.path],()=>P(),{immediate:!0})}),Ke(()=>p==null?void 0:p()),(h,R)=>(m(),v("div",om,[W(Dd),_.value?I("v-if",!0):(m(),ee(Ba,{key:0,onLog:P,onSubmit:L})),f("div",im,[f("div",rm,[r.value?(m(),v("span",{key:0,class:"wl-num",textContent:M(r.value)},null,8,sm)):I("v-if",!0),pe(" "+M(w.value.comment),1)]),f("ul",cm,[(m(!0),v(K,null,ae(b(l),S=>(m(),v("li",{key:S,class:Z([S===$.value?"active":""]),onClick:H=>A(S)},M(w.value[S]),11,um))),128))])]),f("div",dm,[(m(!0),v(K,null,ae(d.value,S=>(m(),ee(lm,{key:S.objectId,"root-id":S.objectId,comment:S,reply:_.value,edit:C.value,onLog:P,onReply:N,onEdit:j,onSubmit:L,onStatus:re,onDelete:Q,onSticky:te,onLike:V},null,8,["root-id","comment","reply","edit"]))),128))]),i.value==="error"?(m(),v("div",mm,[f("button",{type:"button",class:"wl-btn",onClick:P,textContent:M(w.value.refresh)},null,8,pm)])):i.value==="loading"?(m(),v("div",hm,[W(b(yt),{size:30})])):d.value.length?s.value<u.value?(m(),v("div",vm,[f("button",{type:"button",class:"wl-btn",onClick:O,textContent:M(w.value.more)},null,8,gm)])):I("v-if",!0):(m(),v("div",{key:3,class:"wl-empty",textContent:M(w.value.sofa)},null,8,fm)),c.value.copyright?(m(),v("div",ym,[pe(" Powered by "),km,pe(" v"+M(b(am)),1)])):I("v-if",!0)]))}});zt(wm,[["__file","WalineComment.vue"]]);const Dl=(n,e)=>{e.forEach((t,l)=>{const a=n[l].time;typeof a=="number"&&(t.innerText=a.toString())})},bm=({serverURL:n,path:e=window.location.pathname,selector:t=".waline-pageview-count",update:l=!0,lang:a=navigator.language})=>{const o=new AbortController,i=Array.from(document.querySelectorAll(t)),r=u=>{const c=fn(u);return c!==null&&e!==c},s=u=>Zi({serverURL:Wt(n),paths:u.map(c=>fn(c)??e),lang:a,signal:o.signal}).then(c=>Dl(c,u)).catch(Na);if(l){const u=i.filter($=>!r($)),c=i.filter(r);Gi({serverURL:Wt(n),path:e,lang:a}).then($=>Dl($,u)),c.length&&s(c)}else s(i);return o.abort.bind(o)};function Fa(n="//unpkg.com/",e=["bilibili","qq","weibo"]){return e.map(t=>`${n}@waline/emojis/${t}/`)}const $m=ie({__name:"WalineClient",props:{options:{}},setup(n){const e=n,t=kn(),{locale:l}=Qe(),a=D(()=>e.options.path||t.path.replace(/\/$/,"")),o=D(()=>Fa(e.options.cdn));return fe(()=>{const{pageview:i,comment:r}=e.options;i&&bm({serverURL:e.options.serverURL,path:a.value,selector:typeof i=="string"?i:void 0}),r&&pd({serverURL:e.options.serverURL,path:a.value,selector:typeof r=="string"?r:void 0})}),(i,r)=>(m(),ee(b(Ru),Ao(i.options,{"server-u-r-l":i.options.serverURL,lang:b(l),path:a.value,dark:b(So),emoji:o.value}),null,16,["server-u-r-l","lang","path","dark","emoji"]))}});function qa(){const n=ia();return D(()=>n.value.addons["valaxy-addon-waline"])}const _m=Object.freeze(Object.defineProperty({__proto__:null,getEmojis:Fa,useAddonWaline:qa},Symbol.toStringTag,{value:"Module"})),xm=ie({__name:"YunWaline",setup(n){if(_n(_m))throw new Error("Please install valaxy-addon-waline");const e=qa();return(t,l)=>{const a=$m;return m(),ee(a,{w:"full",options:b(e).options||{serverURL:""}},null,8,["options"])}}}),Cm=n=>(Gl("data-v-6e1fcd99"),n=n(),Kl(),n),Lm={"case-capital":"","op-90":""},zm=Cm(()=>f("div",{"inline-flex":"","i-ri-arrow-down-s-line":""},null,-1)),Em={class:"select-options absolute translate-y-1 left-0 top-full w-full bg-[var(--va-c-bg-light)] overflow-hidden rounded-1 border"},Im=["onClick"],Rm=ie({__name:"YunSelect",props:To({options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=Mo(n,"modelValue"),t=T(!1);ft("click",()=>{t.value=!1});function l(a){a.preventDefault(),a.stopImmediatePropagation(),a.stopPropagation(),t.value=!t.value}return(a,o)=>(m(),v("div",{class:"relative h-8 w-30 text-[var(--va-c-text-2)] z-20",onMousedown:o[0]||(o[0]=Ho(()=>{},["stop"]))},[f("button",{class:Z(["flex h-full w-full px-2 items-center justify-between border rounded transition",t.value?"border-[var(--va-c-primary)] shadow-lg":""]),onClick:l},[f("span",Lm,M(e.value),1),zm],2),W(jo,{persisted:""},{default:Ae(()=>[_e(f("ul",Em,[(m(!0),v(K,null,ae(a.options,i=>(m(),v("li",{key:i,class:Z(["cursor-pointer list-none px-2 hover:bg-[var(--va-c-primary-light)] hover:text-white case-capital",{"bg-[var(--va-c-primary)] text-white":e.value===i}]),onClick:r=>e.value=i},M(i),11,Im))),128))],512),[[Ye,t.value]])]),_:1})],32))}}),Am=bn(Rm,[["__scopeId","data-v-6e1fcd99"]]),Sm={key:0,class:"flex justify-end w-full mb-2"},Tm=ie({__name:"YunComment",setup(n){const e=ia(),t=["valaxy-addon-waline","valaxy-addon-twikoo","valaxy-addon-artalk"],l=D(()=>t.filter(o=>e.value.addons[o]).map(o=>o.split("-")[2])),a=T(l.value[0]);return(o,i)=>{const r=Am,s=xm,u=Wi,c=Bi,$=Xe("ClientOnly"),d=ra;return m(),ee(d,{w:"full",p:"4",class:"comment yun-comment sm:p-6 lg:px-12 xl:px-16"},{default:Ae(()=>[W($,null,{default:Ae(()=>[l.value.length>1?(m(),v("div",Sm,[W(r,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=_=>a.value=_),options:l.value},null,8,["modelValue","options"])])):I("v-if",!0),a.value==="waline"?(m(),ee(s,{key:1})):I("v-if",!0),a.value==="twikoo"?(m(),ee(u,{key:2})):I("v-if",!0),a.value==="artalk"?(m(),ee(c,{key:3})):I("v-if",!0),ue(o.$slots,"default")]),_:3})]),_:3})}}}),Mm={class:"post-nav"},jm={class:"post-nav-item"},Hm=f("div",{class:"icon","i-ri-arrow-left-s-line":""},null,-1),Um={class:"title truncate",text:"sm"},Om={class:"post-nav-item"},Vm={class:"title truncate",text:"sm"},Nm=f("div",{class:"icon","i-ri-arrow-right-s-line":""},null,-1),Dm=ie({__name:"YunPostNav",setup(n){const[e,t]=ni();return(l,a)=>{const o=Xe("RouterLink");return m(),v("div",Mm,[f("div",jm,[b(e)?(m(),ee(o,{key:0,class:"post-nav-prev",to:b(e).path||"",title:b(e).title},{default:Ae(()=>[Hm,f("span",Um,M(b(e).title),1)]),_:1},8,["to","title"])):I("v-if",!0)]),f("div",Om,[b(t)?(m(),ee(o,{key:0,to:b(t).path||"",title:b(t).title,class:"post-nav-next"},{default:Ae(()=>[f("span",Vm,M(b(t).title),1),Nm]),_:1},8,["to","title"])):I("v-if",!0)])])}}}),He=typeof window<"u",Wa=He&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Ya=He&&window.devicePixelRatio>1,Pm={elements_selector:".lazy",container:Wa||He?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},Za=n=>Object.assign({},Pm,n),Pl=function(n,e){let t;const l="LazyLoad::Initialized",a=new n(e);try{t=new CustomEvent(l,{detail:{instance:a}})}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(l,!1,!1,{instance:a})}window.dispatchEvent(t)},Bm=(n,e)=>{if(e)if(e.length)for(let t,l=0;t=e[l];l+=1)Pl(n,t);else Pl(n,e)},Ee="src",Vn="srcset",Nn="sizes",Ga="poster",Et="llOriginalAttrs",Ka="data",Dn="loading",Qa="loaded",Xa="applied",Fm="entered",Pn="error",Ja="native",eo="data-",to="ll-status",he=(n,e)=>n.getAttribute(eo+e),qm=(n,e,t)=>{const l=eo+e;t!==null?n.setAttribute(l,t):n.removeAttribute(l)},It=n=>he(n,to),qe=(n,e)=>qm(n,to,e),Kt=n=>qe(n,null),Bn=n=>It(n)===null,Wm=n=>It(n)===Dn,Ym=n=>It(n)===Pn,Fn=n=>It(n)===Ja,Zm=[Dn,Qa,Xa,Pn],Gm=n=>Zm.indexOf(It(n))>=0,Ue=(n,e,t,l)=>{n&&typeof n=="function"&&(l===void 0?t===void 0?n(e):n(e,t):n(e,t,l))},tt=(n,e)=>{He&&e!==""&&n.classList.add(e)},$e=(n,e)=>{He&&e!==""&&n.classList.remove(e)},Km=n=>{n.llTempImage=document.createElement("IMG")},Qm=n=>{delete n.llTempImage},no=n=>n.llTempImage,Qt=(n,e)=>{if(!e)return;const t=e._observer;t&&t.unobserve(n)},Xm=n=>{n.disconnect()},Jm=(n,e,t)=>{e.unobserve_entered&&Qt(n,t)},qn=(n,e)=>{n&&(n.loadingCount+=e)},ep=n=>{n&&(n.toLoadCount-=1)},lo=(n,e)=>{n&&(n.toLoadCount=e)},tp=n=>n.loadingCount>0,np=n=>n.toLoadCount>0,ao=n=>{let e=[];for(let t,l=0;t=n.children[l];l+=1)t.tagName==="SOURCE"&&e.push(t);return e},Wn=(n,e)=>{const t=n.parentNode;t&&t.tagName==="PICTURE"&&ao(t).forEach(e)},oo=(n,e)=>{ao(n).forEach(e)},Xt=[Ee],io=[Ee,Ga],kt=[Ee,Vn,Nn],ro=[Ka],Jt=n=>!!n[Et],so=n=>n[Et],co=n=>delete n[Et],Ge=(n,e)=>{if(Jt(n))return;const t={};e.forEach(l=>{t[l]=n.getAttribute(l)}),n[Et]=t},lp=n=>{Jt(n)||(n[Et]={backgroundImage:n.style.backgroundImage})},Pe=(n,e)=>{if(!Jt(n))return;const t=so(n);e.forEach(l=>{((a,o,i)=>{i?a.setAttribute(o,i):a.removeAttribute(o)})(n,l,t[l])})},ap=n=>{if(!Jt(n))return;const e=so(n);n.style.backgroundImage=e.backgroundImage},uo=(n,e,t)=>{tt(n,e.class_applied),qe(n,Xa),t&&(e.unobserve_completed&&Qt(n,e),Ue(e.callback_applied,n,t))},mo=(n,e,t)=>{tt(n,e.class_loading),qe(n,Dn),t&&(qn(t,1),Ue(e.callback_loading,n,t))},Te=(n,e,t)=>{t&&n.setAttribute(e,t)},Bl=(n,e)=>{Te(n,Nn,he(n,e.data_sizes)),Te(n,Vn,he(n,e.data_srcset)),Te(n,Ee,he(n,e.data_src))},op=(n,e)=>{Wn(n,t=>{Ge(t,kt),Bl(t,e)}),Ge(n,kt),Bl(n,e)},ip=(n,e)=>{Ge(n,Xt),Te(n,Ee,he(n,e.data_src))},rp=(n,e)=>{oo(n,t=>{Ge(t,Xt),Te(t,Ee,he(t,e.data_src))}),Ge(n,io),Te(n,Ga,he(n,e.data_poster)),Te(n,Ee,he(n,e.data_src)),n.load()},sp=(n,e)=>{Ge(n,ro),Te(n,Ka,he(n,e.data_src))},cp=(n,e,t)=>{const l=he(n,e.data_bg),a=he(n,e.data_bg_hidpi),o=Ya&&a?a:l;o&&(n.style.backgroundImage=`url("${o}")`,no(n).setAttribute(Ee,o),mo(n,e,t))},up=(n,e,t)=>{const l=he(n,e.data_bg_multi),a=he(n,e.data_bg_multi_hidpi),o=Ya&&a?a:l;o&&(n.style.backgroundImage=o,uo(n,e,t))},dp=(n,e,t)=>{const l=he(n,e.data_bg_set);if(!l)return;let a=l.split("|").map(o=>`image-set(${o})`);n.style.backgroundImage=a.join(),uo(n,e,t)},po={IMG:op,IFRAME:ip,VIDEO:rp,OBJECT:sp},mp=(n,e)=>{const t=po[n.tagName];t&&t(n,e)},pp=(n,e,t)=>{const l=po[n.tagName];l&&(l(n,e),mo(n,e,t))},hp=["IMG","IFRAME","VIDEO","OBJECT"],fp=n=>hp.indexOf(n.tagName)>-1,ho=(n,e)=>{!e||tp(e)||np(e)||Ue(n.callback_finish,e)},Fl=(n,e,t)=>{n.addEventListener(e,t),n.llEvLisnrs[e]=t},vp=(n,e,t)=>{n.removeEventListener(e,t)},Yn=n=>!!n.llEvLisnrs,gp=(n,e,t)=>{Yn(n)||(n.llEvLisnrs={});const l=n.tagName==="VIDEO"?"loadeddata":"load";Fl(n,l,e),Fl(n,"error",t)},vn=n=>{if(!Yn(n))return;const e=n.llEvLisnrs;for(let t in e){const l=e[t];vp(n,t,l)}delete n.llEvLisnrs},fo=(n,e,t)=>{Qm(n),qn(t,-1),ep(t),$e(n,e.class_loading),e.unobserve_completed&&Qt(n,t)},yp=(n,e,t,l)=>{const a=Fn(e);fo(e,t,l),tt(e,t.class_loaded),qe(e,Qa),Ue(t.callback_loaded,e,l),a||ho(t,l)},kp=(n,e,t,l)=>{const a=Fn(e);fo(e,t,l),tt(e,t.class_error),qe(e,Pn),Ue(t.callback_error,e,l),t.restore_on_error&&Pe(e,kt),a||ho(t,l)},gn=(n,e,t)=>{const l=no(n)||n;Yn(l)||gp(l,a=>{yp(0,n,e,t),vn(l)},a=>{kp(0,n,e,t),vn(l)})},yn=(n,e,t)=>{fp(n)?((l,a,o)=>{gn(l,a,o),pp(l,a,o)})(n,e,t):((l,a,o)=>{Km(l),gn(l,a,o),lp(l),cp(l,a,o),up(l,a,o),dp(l,a,o)})(n,e,t)},wp=(n,e,t)=>{n.setAttribute("loading","lazy"),gn(n,e,t),mp(n,e),qe(n,Ja)},ql=n=>{n.removeAttribute(Ee),n.removeAttribute(Vn),n.removeAttribute(Nn)},bp=n=>{Wn(n,e=>{ql(e)}),ql(n)},vo=n=>{Wn(n,e=>{Pe(e,kt)}),Pe(n,kt)},$p=n=>{oo(n,e=>{Pe(e,Xt)}),Pe(n,io),n.load()},_p=n=>{Pe(n,Xt)},xp=n=>{Pe(n,ro)},Cp={IMG:vo,IFRAME:_p,VIDEO:$p,OBJECT:xp},Lp=(n,e)=>{(t=>{const l=Cp[t.tagName];l?l(t):ap(t)})(n),((t,l)=>{Bn(t)||Fn(t)||($e(t,l.class_entered),$e(t,l.class_exited),$e(t,l.class_applied),$e(t,l.class_loading),$e(t,l.class_loaded),$e(t,l.class_error))})(n,e),Kt(n),co(n)},zp=(n,e,t,l)=>{t.cancel_on_exit&&Wm(n)&&n.tagName==="IMG"&&(vn(n),bp(n),vo(n),$e(n,t.class_loading),qn(l,-1),Kt(n),Ue(t.callback_cancel,n,e,l))},Ep=(n,e,t,l)=>{const a=Gm(n);qe(n,Fm),tt(n,t.class_entered),$e(n,t.class_exited),Jm(n,t,l),Ue(t.callback_enter,n,e,l),a||yn(n,t,l)},Ip=(n,e,t,l)=>{Bn(n)||(tt(n,t.class_exited),zp(n,e,t,l),Ue(t.callback_exit,n,e,l))},Rp=["IMG","IFRAME","VIDEO"],go=n=>n.use_native&&"loading"in HTMLImageElement.prototype,Ap=(n,e,t)=>{n.forEach(l=>{Rp.indexOf(l.tagName)!==-1&&wp(l,e,t)}),lo(t,0)},Sp=n=>n.isIntersecting||n.intersectionRatio>0,Tp=(n,e)=>{e.forEach(t=>{n.observe(t)})},Mp=(n,e)=>{Xm(n),Tp(n,e)},jp=(n,e)=>{go(n)||(e._observer=new IntersectionObserver(t=>{((l,a,o)=>{l.forEach(i=>Sp(i)?Ep(i.target,i,a,o):Ip(i.target,i,a,o))})(t,n,e)},(t=>({root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}))(n)))},yo=n=>Array.prototype.slice.call(n),Yt=n=>n.container.querySelectorAll(n.elements_selector),Hp=n=>yo(n).filter(Bn),Up=n=>Ym(n),Op=n=>yo(n).filter(Up),Wl=(n,e)=>Hp(n||Yt(e)),Vp=(n,e)=>{Op(Yt(n)).forEach(t=>{$e(t,n.class_error),Kt(t)}),e.update()},Np=(n,e)=>{He&&(e._onlineHandler=()=>{Vp(n,e)},window.addEventListener("online",e._onlineHandler))},Dp=n=>{He&&window.removeEventListener("online",n._onlineHandler)},ut=function(n,e){const t=Za(n);this._settings=t,this.loadingCount=0,jp(t,this),Np(t,this),this.update(e)};ut.prototype={update:function(n){const e=this._settings,t=Wl(n,e);lo(this,t.length),Wa?this.loadAll(t):go(e)?Ap(t,e,this):Mp(this._observer,t)},destroy:function(){this._observer&&this._observer.disconnect(),Dp(this),Yt(this._settings).forEach(n=>{co(n)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(n){const e=this._settings;Wl(n,e).forEach(t=>{Qt(t,this),yn(t,e,this)})},restoreAll:function(){const n=this._settings;Yt(n).forEach(e=>{Lp(e,n)})}},ut.load=(n,e)=>{const t=Za(e);yn(n,t)},ut.resetStatus=n=>{Kt(n)},He&&Bm(ut,window.lazyLoadOptions);function Pp(n={}){return document.querySelectorAll(".lazy").forEach(e=>{const t=e.getAttribute("src");e.removeAttribute("src"),e.setAttribute("data-src",t??"")}),new ut({elements_selector:".lazy",...n})}function Bp(){const n=bt();n.value.vanillaLazyload.enable&&fe(()=>{Pp(n.value.vanillaLazyload)})}function Fp(){wn&&window.addEventListener("click",n=>{var t;const e=n.target;if(e.matches(".vp-code-group input")){const l=(t=e.parentElement)==null?void 0:t.parentElement;if(!l)return;const a=Array.from(l.querySelectorAll("input")).indexOf(e);if(a<0)return;const o=l.querySelector(".blocks");if(!o)return;const i=Array.from(o.children).find(u=>u.classList.contains("active"));if(!i)return;const r=o.children[a];if(!r||i===r)return;i.classList.remove("active"),r.classList.add("active");const s=l==null?void 0:l.querySelector(`label[for="${e.id}"]`);s==null||s.scrollIntoView({block:"nearest"})}})}const qp={key:0,text:"center"},Wp=["href"],Yp={m:"y-4",class:"end flex justify-center items-center"},Zp=f("hr",{class:"line inline-flex",w:"full",m:"!y-2"},null,-1),Gp={p:"x-4",font:"bold",class:"whitespace-nowrap"},Kp=f("hr",{class:"line inline-flex",w:"full",m:"!y-2"},null,-1),Qp=ie({__name:"ValaxyMd",props:{frontmatter:{},excerpt:{}},setup(n){const e=n,{t}=Qe(),l=T();return xn(()=>{ei(l.value)}),fe(()=>{St()}),Zl(()=>{St()}),e.frontmatter.aplayer&&pi(),e.frontmatter.codepen&&hi(),li(),Fp(),mi(),(typeof e.frontmatter.medium_zoom>"u"||e.frontmatter.medium_zoom)&&di(),Bp(),(a,o)=>a.$slots.default?(m(),v("article",{key:0,class:Z(a.frontmatter.markdown!==!1&&"markdown-body")},[ue(a.$slots,"default",{ref_key:"contentRef",ref:l,onVnodeUpdated:o[0]||(o[0]=(...i)=>b(St)&&b(St)(...i))}),a.frontmatter.url?(m(),v("div",qp,[f("a",{href:a.frontmatter.url,class:"post-link-btn shadow hover:shadow-md",rounded:"",target:"_blank",m:"b-4"},M(b(t)("post.view_link")),9,Wp)])):I("v-if",!0),a.frontmatter.end!==void 0?ue(a.$slots,"end",{key:1},()=>[f("div",Yp,[Zp,f("span",Gp,M(a.frontmatter.end?"Q.E.D.":"To Be Continued."),1),Kp])]):I("v-if",!0)],2)):I("v-if",!0)}}),Xp={key:0,class:"yun-time-warning",op:"80"},Jp=ie({__name:"YunMdTimeWarning",setup(n){const e=$t(),{t}=Qe(),l=D(()=>e.value.updated||e.value.date||new Date),a=D(()=>{const i=Xo(l.value,{addSuffix:!0});return/^\d/.test(i)?` ${i}`:i}),o=D(()=>{const i=ca(new Date,l.value);return typeof e.value.time_warning=="number"?i>e.value.time_warning:e.value.time_warning});return(i,r)=>o.value?(m(),v("blockquote",Xp,M(b(t)("post.time_warning",{ago:a.value})),1)):I("v-if",!0)}}),eh={class:"ai-generated-excerpt rounded-lg bg-$va-c-bg-alt p-4"},th={font:"black",flex:"","items-center":""},nh=f("div",{"mr-1":"","i-ri-robot-2-line":""},null,-1),lh={op:"90","mt-1":""},ah=ie({__name:"YunAiExcerpt",setup(n){const e=$t(),{t}=Qe();return(l,a)=>(m(),v("div",eh,[f("div",th,[nh,f("div",null,M(b(t)("excerpt.ai")),1)]),f("div",lh,M(b(e).excerpt),1)]))}}),oh={class:"yun-main md:pl-$va-sidebar-width lt-md:ml-0",flex:"~"},ih={w:"full",flex:"~"},rh={p:"x-4 b-8",class:"sm:px-6 lg:px-12 xl:px-16",w:"full"},vh=ie({__name:"ValaxyMain",props:{frontmatter:{},data:{}},setup(n){const e=n,t=bt(),{styles:l,icon:a,color:o}=Po(e.frontmatter.type),i=Uo(D(()=>e.frontmatter)),r=D(()=>e.frontmatter.aside!==!1),s=kn(),u=Oo();return $n(()=>{s.hash&&setTimeout(()=>{Kn(document.body,s.hash,!0)},0)}),xn(()=>{window.addEventListener("click",async c=>{const $=c.target.closest("a");if($){const{protocol:d,hostname:_,pathname:C,hash:x,target:w}=$,p=window.location,k=C.match(/\.\w+$/);!c.ctrlKey&&!c.shiftKey&&!c.altKey&&!c.metaKey&&w!=="_blank"&&d===p.protocol&&_===p.hostname&&!(k&&k[0]!==".html")&&C===p.pathname&&(c.preventDefault(),x&&x!==p.hash&&(await u.push({hash:decodeURIComponent(x)}),Kn($,x,$.classList.contains("header-anchor"))))}},{capture:!0})}),(c,$)=>{const d=Do,_=ah,C=Jp,x=Qp,w=ra,p=Dm,k=Tm,O=No,P=Pi;return m(),v("main",oh,[f("div",ih,[ue(c.$slots,"main",{},()=>[f("div",{class:Z(["content",!r.value&&"no-aside"]),flex:"~ col grow",w:"full",p:"l-4 lt-md:0"},[W(w,{cover:c.frontmatter.cover,m:"0",class:"relative",style:ht(b(l))},{default:Ae(()=>[ue(c.$slots,"main-header",{},()=>[W(d,{class:"mb-2",title:b(i),icon:c.frontmatter.icon||b(a),color:c.frontmatter.color||b(o),cover:c.frontmatter.cover},null,8,["title","icon","color","cover"])]),ue(c.$slots,"main-header-after"),f("div",rh,[ue(c.$slots,"main-content",{},()=>[I(" <Transition appear> "),W(x,{frontmatter:c.frontmatter},{default:Ae(()=>[c.frontmatter.excerpt_type==="ai"&&c.frontmatter.excerpt?(m(),ee(_,{key:0})):I("v-if",!0),W(C),ue(c.$slots,"main-content-md"),ue(c.$slots,"default")]),_:3},8,["frontmatter"]),I(" </Transition> ")]),ue(c.$slots,"main-content-after")])]),_:3},8,["cover","style"]),ue(c.$slots,"main-nav-before"),ue(c.$slots,"main-nav",{},()=>[c.frontmatter.nav!==!1?(m(),ee(p,{key:0})):I("v-if",!0)]),ue(c.$slots,"main-nav-after"),b(t).comment.enable&&c.frontmatter.comment!==!1?ue(c.$slots,"comment",{key:0},()=>[W(k,{class:Z(c.frontmatter.nav===!1?"mt-4":0)},null,8,["class"])]):I("v-if",!0),ue(c.$slots,"main-footer-before"),W(O),ue(c.$slots,"main-footer-after")],2)]),ue(c.$slots,"aside",{},()=>[r.value?(m(),ee(P,{key:0},{default:Ae(()=>[ue(c.$slots,"aside-custom")]),_:3})):I("v-if",!0)])])])}}});export{vh as _};
